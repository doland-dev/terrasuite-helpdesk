import{A as O,d as R,q as H,u as K,a as T,c as x,K as m,aX as j,r as g,e as a,f as y,w as r,g as o,h as t,bH as E,bI as B,l as u,k as c,y as f,F as D,G as P,x as F,t as G,bJ as J,bK as X,C as Y}from"./index-54e545bb.js";import{u as Q,c as U}from"./more-horizontal-b561c647.js";import"./dayjs-8f71cd34.js";import{u as W,L as Z}from"./bell-07c9731c.js";import{c as ee,a as te,_ as ae,b as oe,d as k,L as se,e as le}from"./layoutSettings-2398588d.js";import"./knowledgeBase-de4d1c97.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-20398480.js";const b=O(!1),ne={class:"relative z-10 flex h-full w-[230px] flex-col border-r bg-gray-50 transition-all duration-300 ease-in-out"},ie={key:0,class:"overflow-y-auto px-2"},re={class:"mb-3 flex flex-col gap-1"},ce={key:0,class:"mx-2 my-2 h-1"},ue=["onClick"],de={class:"flex flex-col ml-2 mr-1"},pe=R({__name:"MobileSidebar",setup(w){const{pinnedViews:d,publicViews:n}=Q(),_=W(),p=H(),C=K(),L=T(),N=x(()=>{var h,v;const e=[{label:"All Views",hideLabel:!0,opened:!0,views:m.value?ee:te}];return(h=n.value)!=null&&h.length&&!m.value&&e.push({label:"Public Views",opened:!0,hideLabel:!1,views:$(n.value)}),(v=d.value)!=null&&v.length&&e.push({label:"Private Views",opened:!0,hideLabel:!1,views:$(d.value)}),e});function $(s){return s.map(e=>({label:e.label,icon:e.icon,to:{name:e.route_name,query:{view:e.name}},onClick:()=>{U.value={label:e.label,icon:e.icon}}}))}const q=x(()=>[{label:"Log out",icon:"log-out",onClick:()=>L.logout()}]),z=x(()=>[{component:j(ae)},{label:"Customer portal",icon:"users",onClick:()=>{const s=C.resolve({name:"TicketsCustomer"});window.open(s.href)}},{icon:"life-buoy",label:"Support",onClick:()=>window.open("https://t.me/frappedesk")},{icon:"book-open",label:"Docs",onClick:()=>window.open("https://docs.frappe.io/helpdesk")},{label:"Log out",icon:"log-out",onClick:()=>L.logout()}]),A=x(()=>m.value?q.value:z.value);function S(s){var e;return p.query.view?p.query.view==((e=s==null?void 0:s.query)==null?void 0:e.view):p.name===s}return(s,e)=>{const h=g("Badge"),v=g("FeatherIcon");return a(),y(t(X),{show:t(b)},{default:r(()=>[o(t(E),{as:"div",onClose:e[0]||(e[0]=l=>b.value=!1),class:"fixed inset-0 z-40"},{default:r(()=>[o(t(B),{as:"template",enter:"transition ease-in-out duration-200 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-200 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:r(()=>[u("div",ne,[u("div",null,[o(oe,{class:"p-2 mb-2",options:A.value},null,8,["options"])]),t(m)?f("",!0):(a(),c("div",ie,[u("div",re,[o(k,{class:"relative",label:"Notifications",icon:t(Z),"on-click":()=>b.value=!1,"is-expanded":!0,to:"Notifications"},{right:r(()=>[t(_).unread?(a(),y(h,{key:0,label:t(_).unread,theme:"gray",variant:"subtle"},null,8,["label"])):f("",!0)]),_:1},8,["icon","on-click"]),t(m)?f("",!0):(a(),y(k,{key:0,class:"relative",label:"Dashboard",icon:t(se),to:"Dashboard","is-active":S("Dashboard"),"is-expanded":!0},null,8,["icon","is-active"]))])])),(a(!0),c(D,null,P(N.value,l=>{var V;return a(),c("div",{key:l.label},[!l.hideLabel&&((V=l.views)!=null&&V.length)?(a(),c("div",ce)):f("",!0),o(t(le),{label:l.label,hideLabel:l.hideLabel,opened:l.opened},{header:r(({opened:i,hide:I,toggle:M})=>[I?f("",!0):(a(),c("div",{key:0,class:F(["flex cursor-pointer gap-1.5 px-1 text-base font-medium text-ink-gray-5 transition-all duration-300 ease-in-out","ml-2 mt-4 h-7 w-auto opacity-100"]),onClick:ve=>M()},[o(v,{name:"chevron-right",class:F(["h-4 text-ink-gray-9 transition-all duration-300 ease-in-out",{"rotate-90":i}])},null,8,["class"]),u("span",null,G(l.label),1)],8,ue))]),default:r(()=>[u("nav",de,[(a(!0),c(D,null,P(l.views,i=>(a(),y(k,{icon:i.icon,label:i.label,to:i.to,key:i.label,"is-expanded":!0,"is-active":S(i.to),class:"my-0.5",onClick:i.onClick},null,8,["icon","label","to","is-active","onClick"]))),128))])]),_:2},1032,["label","hideLabel","opened"])])}),128))])]),_:1}),o(t(B),{as:"template",enter:"transition-opacity ease-linear duration-200","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:r(()=>[o(t(J),{class:"fixed inset-0 bg-gray-600 bg-opacity-50"})]),_:1})]),_:1})]),_:1},8,["show"])}}}),me={class:"flex border-b h-12 items-center"},fe={class:"z-20 -mr-4 ml-1 flex items-center justify-center"},be={__name:"MobileAppHeader",setup(w){return(d,n)=>{const _=g("FeatherIcon"),p=g("Button");return a(),c("div",me,[u("div",fe,[o(p,{variant:"ghosted",onClick:n[0]||(n[0]=C=>b.value=!t(b))},{default:r(()=>[o(_,{name:"menu",class:"size-4"})]),_:1})]),n[1]||(n[1]=u("header",{id:"app-header",class:"w-full"},null,-1))])}}},_e={class:"flex h-screen w-screen"},he={class:"flex h-full flex-col flex-1 overflow-auto"},$e={__name:"MobileLayout",setup(w){return(d,n)=>(a(),c("div",_e,[o(pe),u("div",he,[o(be),Y(d.$slots,"default")])]))}};export{$e as default};
//# sourceMappingURL=MobileLayout-abf0d10a.js.map
