{
    "version": 3,
    "file": "TicketAgentFields-bddea162.js",
    "sources": [
        "../../../../node_modules/@headlessui/vue/dist/internal/focus-sentinel.js",
        "../../../../node_modules/@headlessui/vue/dist/components/tabs/tabs.js",
        "../../../../node_modules/frappe-ui/src/components/Tabs/TabList.vue",
        "../../../../node_modules/frappe-ui/src/components/Tabs/TabPanel.vue",
        "../../../../node_modules/frappe-ui/src/components/Tabs/Tabs.vue",
        "../../../../desk/src/components/SearchComplete.vue",
        "../../../../desk/src/components/icons/ActivityIcon.vue",
        "../../../../desk/src/components/icons/AttachmentIcon.vue",
        "../../../../desk/src/components/icons/CommentIcon.vue",
        "../../../../desk/src/components/icons/DotIcon.vue",
        "../../../../desk/src/components/icons/ReplyAllIcon.vue",
        "../../../../desk/src/components/icons/ReplyIcon.vue",
        "../../../../desk/src/components/icons/SelectIcon.vue",
        "../../../../desk/src/components/EmailEditor.vue",
        "../../../../desk/src/stores/agent.ts",
        "../../../../desk/src/components/CommentTextEditor.vue",
        "../../../../desk/src/components/MultiSelectInput.vue",
        "../../../../desk/src/components/CommunicationArea.vue",
        "../../../../desk/src/components/ticket/TicketSplitModal.vue",
        "../../../../desk/src/components/EmailArea.vue",
        "../../../../desk/src/components/CommentBox.vue",
        "../../../../desk/src/components/HistoryBox.vue",
        "../../../../desk/src/components/AssignmentModal.vue",
        "../../../../desk/src/components/CannedResponseSelectorModal.vue",
        "../../../../desk/src/components/ticket/TicketAgentContact.vue",
        "../../../../desk/src/components/ticket/ActivityHeader.vue",
        "../../../../desk/src/components/ticket/TicketAgentActivities.vue",
        "../../../../desk/src/components/ticket/TicketAgentDetails.vue",
        "../../../../desk/src/components/UniInput2.vue",
        "../../../../desk/src/components/ticket/TicketAgentFields.vue"
    ],
    "sourcesContent": [
        "import{defineComponent as i,h as m,ref as f}from\"vue\";import{Features as l,Hidden as F}from'./hidden.js';let d=i({props:{onFocus:{type:Function,required:!0}},setup(t){let n=f(!0);return()=>n.value?m(F,{as:\"button\",type:\"button\",features:l.Focusable,onFocus(o){o.preventDefault();let e,a=50;function r(){var u;if(a--<=0){e&&cancelAnimationFrame(e);return}if((u=t.onFocus)!=null&&u.call(t)){n.value=!1,cancelAnimationFrame(e);return}e=requestAnimationFrame(r)}e=requestAnimationFrame(r)}}):null}});export{d as FocusSentinel};\n",
        "import{computed as v,defineComponent as L,Fragment as z,h as A,inject as j,onMounted as F,onUnmounted as K,provide as N,ref as P,watch as _,watchEffect as J}from\"vue\";import{useId as $}from'../../hooks/use-id.js';import{useResolveButtonType as Q}from'../../hooks/use-resolve-button-type.js';import{FocusSentinel as V}from'../../internal/focus-sentinel.js';import{Hidden as X}from'../../internal/hidden.js';import{Keys as S}from'../../keyboard.js';import{dom as f}from'../../utils/dom.js';import{Focus as g,focusIn as D,FocusResult as B,sortByDomNode as k}from'../../utils/focus-management.js';import{match as H}from'../../utils/match.js';import{microTask as Y}from'../../utils/micro-task.js';import{getOwnerDocument as Z}from'../../utils/owner.js';import{Features as q,omit as ee,render as M}from'../../utils/render.js';var te=(s=>(s[s.Forwards=0]=\"Forwards\",s[s.Backwards=1]=\"Backwards\",s))(te||{}),le=(d=>(d[d.Less=-1]=\"Less\",d[d.Equal=0]=\"Equal\",d[d.Greater=1]=\"Greater\",d))(le||{});let U=Symbol(\"TabsContext\");function C(a){let b=j(U,null);if(b===null){let s=new Error(`<${a} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,C),s}return b}let G=Symbol(\"TabsSSRContext\"),me=L({name:\"TabGroup\",emits:{change:a=>!0},props:{as:{type:[Object,String],default:\"template\"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(a,{slots:b,attrs:s,emit:d}){var E;let i=P((E=a.selectedIndex)!=null?E:a.defaultIndex),l=P([]),r=P([]),p=v(()=>a.selectedIndex!==null),R=v(()=>p.value?a.selectedIndex:i.value);function y(t){var c;let n=k(u.tabs.value,f),o=k(u.panels.value,f),e=n.filter(I=>{var m;return!((m=f(I))!=null&&m.hasAttribute(\"disabled\"))});if(t<0||t>n.length-1){let I=H(i.value===null?0:Math.sign(t-i.value),{[-1]:()=>1,[0]:()=>H(Math.sign(t),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0}),m=H(I,{[0]:()=>n.indexOf(e[0]),[1]:()=>n.indexOf(e[e.length-1])});m!==-1&&(i.value=m),u.tabs.value=n,u.panels.value=o}else{let I=n.slice(0,t),h=[...n.slice(t),...I].find(W=>e.includes(W));if(!h)return;let O=(c=n.indexOf(h))!=null?c:u.selectedIndex.value;O===-1&&(O=u.selectedIndex.value),i.value=O,u.tabs.value=n,u.panels.value=o}}let u={selectedIndex:v(()=>{var t,n;return(n=(t=i.value)!=null?t:a.defaultIndex)!=null?n:null}),orientation:v(()=>a.vertical?\"vertical\":\"horizontal\"),activation:v(()=>a.manual?\"manual\":\"auto\"),tabs:l,panels:r,setSelectedIndex(t){R.value!==t&&d(\"change\",t),p.value||y(t)},registerTab(t){var o;if(l.value.includes(t))return;let n=l.value[i.value];if(l.value.push(t),l.value=k(l.value,f),!p.value){let e=(o=l.value.indexOf(n))!=null?o:i.value;e!==-1&&(i.value=e)}},unregisterTab(t){let n=l.value.indexOf(t);n!==-1&&l.value.splice(n,1)},registerPanel(t){r.value.includes(t)||(r.value.push(t),r.value=k(r.value,f))},unregisterPanel(t){let n=r.value.indexOf(t);n!==-1&&r.value.splice(n,1)}};N(U,u);let T=P({tabs:[],panels:[]}),x=P(!1);F(()=>{x.value=!0}),N(G,v(()=>x.value?null:T.value));let w=v(()=>a.selectedIndex);return F(()=>{_([w],()=>{var t;return y((t=a.selectedIndex)!=null?t:a.defaultIndex)},{immediate:!0})}),J(()=>{if(!p.value||R.value==null||u.tabs.value.length<=0)return;let t=k(u.tabs.value,f);t.some((o,e)=>f(u.tabs.value[e])!==f(o))&&u.setSelectedIndex(t.findIndex(o=>f(o)===f(u.tabs.value[R.value])))}),()=>{let t={selectedIndex:i.value};return A(z,[l.value.length<=0&&A(V,{onFocus:()=>{for(let n of l.value){let o=f(n);if((o==null?void 0:o.tabIndex)===0)return o.focus(),!0}return!1}}),M({theirProps:{...s,...ee(a,[\"selectedIndex\",\"defaultIndex\",\"manual\",\"vertical\",\"onChange\"])},ourProps:{},slot:t,slots:b,attrs:s,name:\"TabGroup\"})])}}}),pe=L({name:\"TabList\",props:{as:{type:[Object,String],default:\"div\"}},setup(a,{attrs:b,slots:s}){let d=C(\"TabList\");return()=>{let i={selectedIndex:d.selectedIndex.value},l={role:\"tablist\",\"aria-orientation\":d.orientation.value};return M({ourProps:l,theirProps:a,slot:i,attrs:b,slots:s,name:\"TabList\"})}}}),xe=L({name:\"Tab\",props:{as:{type:[Object,String],default:\"button\"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(a,{attrs:b,slots:s,expose:d}){var o;let i=(o=a.id)!=null?o:`headlessui-tabs-tab-${$()}`,l=C(\"Tab\"),r=P(null);d({el:r,$el:r}),F(()=>l.registerTab(r)),K(()=>l.unregisterTab(r));let p=j(G),R=v(()=>{if(p.value){let e=p.value.tabs.indexOf(i);return e===-1?p.value.tabs.push(i)-1:e}return-1}),y=v(()=>{let e=l.tabs.value.indexOf(r);return e===-1?R.value:e}),u=v(()=>y.value===l.selectedIndex.value);function T(e){var I;let c=e();if(c===B.Success&&l.activation.value===\"auto\"){let m=(I=Z(r))==null?void 0:I.activeElement,h=l.tabs.value.findIndex(O=>f(O)===m);h!==-1&&l.setSelectedIndex(h)}return c}function x(e){let c=l.tabs.value.map(m=>f(m)).filter(Boolean);if(e.key===S.Space||e.key===S.Enter){e.preventDefault(),e.stopPropagation(),l.setSelectedIndex(y.value);return}switch(e.key){case S.Home:case S.PageUp:return e.preventDefault(),e.stopPropagation(),T(()=>D(c,g.First));case S.End:case S.PageDown:return e.preventDefault(),e.stopPropagation(),T(()=>D(c,g.Last))}if(T(()=>H(l.orientation.value,{vertical(){return e.key===S.ArrowUp?D(c,g.Previous|g.WrapAround):e.key===S.ArrowDown?D(c,g.Next|g.WrapAround):B.Error},horizontal(){return e.key===S.ArrowLeft?D(c,g.Previous|g.WrapAround):e.key===S.ArrowRight?D(c,g.Next|g.WrapAround):B.Error}}))===B.Success)return e.preventDefault()}let w=P(!1);function E(){var e;w.value||(w.value=!0,!a.disabled&&((e=f(r))==null||e.focus({preventScroll:!0}),l.setSelectedIndex(y.value),Y(()=>{w.value=!1})))}function t(e){e.preventDefault()}let n=Q(v(()=>({as:a.as,type:b.type})),r);return()=>{var m,h;let e={selected:u.value,disabled:(m=a.disabled)!=null?m:!1},{...c}=a,I={ref:r,onKeydown:x,onMousedown:t,onClick:E,id:i,role:\"tab\",type:n.value,\"aria-controls\":(h=f(l.panels.value[y.value]))==null?void 0:h.id,\"aria-selected\":u.value,tabIndex:u.value?0:-1,disabled:a.disabled?!0:void 0};return M({ourProps:I,theirProps:c,slot:e,attrs:b,slots:s,name:\"Tab\"})}}}),Ie=L({name:\"TabPanels\",props:{as:{type:[Object,String],default:\"div\"}},setup(a,{slots:b,attrs:s}){let d=C(\"TabPanels\");return()=>{let i={selectedIndex:d.selectedIndex.value};return M({theirProps:a,ourProps:{},slot:i,attrs:s,slots:b,name:\"TabPanels\"})}}}),ye=L({name:\"TabPanel\",props:{as:{type:[Object,String],default:\"div\"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(a,{attrs:b,slots:s,expose:d}){var T;let i=(T=a.id)!=null?T:`headlessui-tabs-panel-${$()}`,l=C(\"TabPanel\"),r=P(null);d({el:r,$el:r}),F(()=>l.registerPanel(r)),K(()=>l.unregisterPanel(r));let p=j(G),R=v(()=>{if(p.value){let x=p.value.panels.indexOf(i);return x===-1?p.value.panels.push(i)-1:x}return-1}),y=v(()=>{let x=l.panels.value.indexOf(r);return x===-1?R.value:x}),u=v(()=>y.value===l.selectedIndex.value);return()=>{var n;let x={selected:u.value},{tabIndex:w,...E}=a,t={ref:r,id:i,role:\"tabpanel\",\"aria-labelledby\":(n=f(l.tabs.value[y.value]))==null?void 0:n.id,tabIndex:u.value?w:-1};return!u.value&&a.unmount&&!a.static?A(X,{as:\"span\",\"aria-hidden\":!0,...t}):M({ourProps:t,theirProps:E,slot:x,attrs:b,slots:s,features:q.Static|q.RenderStrategy,visible:u.value,name:\"TabPanel\"})}}});export{xe as Tab,me as TabGroup,pe as TabList,ye as TabPanel,Ie as TabPanels};\n",
        "<template>\n  <TabList\n    class=\"relative flex\"\n    :class=\"\n      t.vertical\n        ? 'flex-col border-r overflow-y-auto'\n        : 'gap-7.5 border-b overflow-x-auto items-center px-5'\n    \"\n  >\n    <Tab\n      ref=\"tabRef\"\n      as=\"template\"\n      v-for=\"(tab, i) in t.tabs\"\n      :key=\"i\"\n      v-slot=\"{ selected }\"\n      class=\"focus:outline-none focus:transition-none\"\n    >\n      <slot v-bind=\"{ tab, selected }\">\n        <button\n          class=\"flex items-center gap-1.5 text-base text-ink-gray-5 duration-300 ease-in-out hover:text-ink-gray-9\"\n          :class=\"[\n            selected ? 'text-ink-gray-9' : '',\n            t.vertical\n              ? 'py-2.5 px-4 border-r border-transparent hover:border-outline-gray-3'\n              : 'py-3 border-b border-transparent hover:border-outline-gray-3',\n          ]\"\n        >\n          <component v-if=\"tab.icon\" :is=\"tab.icon\" class=\"size-4\" />\n          {{ tab.label }}\n        </button>\n      </slot>\n    </Tab>\n    <div\n      ref=\"indicator\"\n      class=\"tab-indicator absolute bg-surface-gray-7\"\n      :class=\"[t.vertical ? 'right-0 w-px' : 'bottom-0 h-px', transitionClass]\"\n    />\n  </TabList>\n</template>\n<script setup>\nimport { TabList, Tab } from '@headlessui/vue'\nimport { ref, watch, computed, onMounted, nextTick, inject } from 'vue'\n\nconst t = inject('tab')\n\nconst tabRef = ref([])\nconst indicator = ref(null)\nconst tabsLength = computed(() => t.value.tabs.value?.length)\n\nconst transitionClass = ref('')\n\nfunction moveIndicator(index) {\n  if (index >= tabsLength.value) {\n    index = tabsLength.value - 1\n  }\n  const selectedTab = tabRef.value[index].el\n  if (t.value.vertical.value) {\n    indicator.value.style.height = `${selectedTab.offsetHeight}px`\n    indicator.value.style.top = `${selectedTab.offsetTop}px`\n  } else {\n    indicator.value.style.width = `${selectedTab.offsetWidth}px`\n    indicator.value.style.left = `${selectedTab.offsetLeft}px`\n  }\n}\n\nwatch(\n  () => t.value.tabIndex.value,\n  (index) => {\n    if (index >= tabsLength.value) {\n      t.value.tabIndex.value = tabsLength.value - 1\n    }\n    transitionClass.value = 'transition-all duration-300 ease-in-out'\n    nextTick(() => moveIndicator(index))\n  },\n)\n\nonMounted(() => {\n  nextTick(() => moveIndicator(t.value.tabIndex.value))\n  // Fix for indicator not moving on initial load\n  setTimeout(() => moveIndicator(t.value.tabIndex.value), 100)\n})\n</script>\n",
        "<template>\n  <TabPanels class=\"flex flex-1 overflow-hidden\">\n    <TabPanel\n      class=\"flex flex-1 flex-col overflow-y-auto focus:outline-none\"\n      v-for=\"(tab, i) in t.tabs\"\n      :key=\"i\"\n    >\n      <slot v-bind=\"{ tab }\" />\n    </TabPanel>\n  </TabPanels>\n</template>\n<script setup>\nimport { TabPanels, TabPanel } from '@headlessui/vue'\nimport { inject } from 'vue'\n\nconst t = inject('tab')\n</script>\n",
        "<template>\n  <TabGroup\n    v-bind=\"\n      as !== 'template'\n        ? {\n            as,\n            class: ['flex flex-1 overflow-hidden', vertical ? '' : 'flex-col '],\n          }\n        : {}\n    \"\n    :defaultIndex=\"tabIndex\"\n    :selectedIndex=\"tabIndex\"\n    @change=\"(idx) => (tabIndex = idx)\"\n  >\n    <slot>\n      <TabList v-slot=\"{ tab, selected }\">\n        <slot name=\"tab-item\" v-bind=\"{ tab, selected }\" />\n      </TabList>\n      <TabPanel v-slot=\"{ tab }\">\n        <slot name=\"tab-panel\" v-bind=\"{ tab }\" />\n      </TabPanel>\n    </slot>\n  </TabGroup>\n</template>\n\n<script setup>\nimport TabList from './TabList.vue'\nimport TabPanel from './TabPanel.vue'\nimport { TabGroup } from '@headlessui/vue'\nimport { computed, provide } from 'vue'\n\nconst props = defineProps({\n  as: {\n    type: String,\n    default: 'template',\n  },\n  tabs: {\n    type: Array,\n    required: true,\n  },\n  vertical: {\n    type: Boolean,\n    default: false,\n  },\n})\n\nconst tabIndex = defineModel()\n\nprovide(\n  'tab',\n  computed(() => ({\n    tabIndex,\n    tabs: props.tabs,\n    vertical: props.vertical,\n  })),\n)\n</script>\n",
        "<template>\n  <Autocomplete\n    placeholder=\"Select an option\"\n    :options=\"options\"\n    :value=\"selection\"\n    @update:query=\"(q) => onUpdateQuery(q)\"\n    @change=\"\n      (v) => {\n        if (!resetInput) {\n          selection = v;\n        }\n        emit('change', v);\n      }\n    \"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { Autocomplete } from \"@/components\";\nimport { createListResource } from \"frappe-ui\";\nimport { computed, ref } from \"vue\";\n\nconst emit = defineEmits([\"change\"]);\n\nconst props = defineProps({\n  value: {\n    type: String,\n    required: false,\n    default: \"\",\n  },\n  doctype: {\n    type: String,\n    required: true,\n  },\n  searchField: {\n    type: String,\n    required: false,\n    default: \"name\",\n  },\n  labelField: {\n    type: String,\n    required: false,\n    default: \"name\",\n  },\n  valueField: {\n    type: String,\n    required: false,\n    default: \"name\",\n  },\n  pageLength: {\n    type: Number,\n    required: false,\n    default: 100,\n  },\n  resetInput: {\n    type: Boolean,\n    required: false,\n    default: false,\n  },\n  customFilters: {\n    type: Object,\n    required: false,\n    default: {},\n  },\n});\n\nconst r = createListResource({\n  doctype: props.doctype,\n  pageLength: props.pageLength,\n  auto: true,\n  fields: [props.labelField, props.searchField, props.valueField],\n  filters: {\n    [props.searchField]: [\"like\", `%${props.value}%`],\n    ...props.customFilters,\n  },\n  onSuccess: () => {\n    selection.value = props.value\n      ? options.value.find((o) => o.value === props.value)\n      : null;\n  },\n});\nconst options = computed(\n  () =>\n    r.data?.map((result) => ({\n      label: result[props.labelField],\n      value: result[props.valueField],\n    })) || []\n);\nconst selection = ref(null);\n\nfunction onUpdateQuery(query: string) {\n  r.update({\n    filters: {\n      [props.searchField]: [\"like\", `%${query}%`],\n      ...props.customFilters,\n    },\n  });\n\n  r.reload();\n}\n</script>\n",
        "<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M6.29021 2.64272C6.68375 0.785763 9.33429 0.785757 9.72783 2.64272L10.3657 5.65238L13.3753 6.29021C15.2323 6.68375 15.2323 9.33429 13.3753 9.72783L10.3657 10.3657L9.72783 13.3753C9.33429 15.2323 6.68375 15.2323 6.29021 13.3753L5.65238 10.3657L2.64272 9.72783C0.785763 9.33429 0.785757 6.68375 2.64272 6.29021L5.65238 5.65238L6.29021 2.64272ZM8.74956 2.85004C8.58 2.04999 7.43804 2.04998 7.26848 2.85004L6.56324 6.17777L6.49584 6.49583L6.17777 6.56324L2.85004 7.26848C2.04999 7.43804 2.04998 8.58 2.85004 8.74956L6.17777 9.4548L6.49584 9.5222L6.56324 9.84027L7.26848 13.168C7.43804 13.9681 8.58 13.9681 8.74956 13.168L9.4548 9.84027L9.5222 9.5222L9.84027 9.4548L13.168 8.74956C13.9681 8.58 13.9681 7.43804 13.168 7.26848L9.84027 6.56324L9.5222 6.49583L9.4548 6.17777L8.74956 2.85004Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n",
        "<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M12.5684 2.50774C11.5403 1.49742 9.95026 1.49742 8.92215 2.50774L3.62404 7.71417C2.12532 9.18695 2.12532 11.669 3.62404 13.1418C5.12762 14.6194 7.66861 14.6194 9.17219 13.1418L12.1609 10.2049C12.3578 10.0113 12.6744 10.0141 12.8679 10.211C13.0615 10.408 13.0587 10.7246 12.8618 10.9181L9.8731 13.8551C7.98045 15.715 4.81578 15.715 2.92313 13.8551C1.02562 11.9904 1.02562 8.86558 2.92313 7.00091L8.22124 1.79449C9.63842 0.401838 11.8521 0.401838 13.2693 1.79449C14.6914 3.19191 14.6914 5.38225 13.2693 6.77968L13.2668 6.78213L13.2668 6.78212L8.37876 11.5189C8.37834 11.5193 8.37793 11.5197 8.37752 11.5201C7.51767 12.3638 6.11144 12.3939 5.29119 11.5097C4.43611 10.6596 4.40778 9.26893 5.30922 8.46081L7.33823 6.46692C7.53518 6.27337 7.85175 6.27613 8.04531 6.47309C8.23886 6.67005 8.23609 6.98662 8.03913 7.18017L6.0014 9.18264L5.99203 9.19185L5.98219 9.20055C5.5391 9.59243 5.5104 10.3231 6.0014 10.8056L6.01078 10.8148L6.01967 10.8245C6.42299 11.2649 7.18224 11.2926 7.67785 10.8056L7.68034 10.8032L7.68035 10.8032L12.5684 6.06643C12.5688 6.06604 12.5692 6.06565 12.5696 6.06526C13.5917 5.05969 13.5913 3.51289 12.5684 2.50774Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n",
        "<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M8 2.5C4.2911 2.5 1.5 4.84419 1.5 7.5C1.5 9.14452 2.54729 10.6518 4.25112 11.5816C4.50048 11.7177 4.758 12.0041 4.7326 12.4082C4.71107 12.7508 4.61659 13.2533 4.47175 13.6657C4.44071 13.7541 4.40789 13.8389 4.37434 13.9195C4.62005 13.8524 4.91964 13.7411 5.26646 13.5579C5.48882 13.4404 5.69385 13.2901 5.9102 13.1207C5.95058 13.089 5.9922 13.056 6.03481 13.0222C6.20816 12.8848 6.39803 12.7342 6.58835 12.6102C6.7875 12.4803 7.01146 12.4447 7.20831 12.4631C7.46767 12.4875 7.73186 12.5 8 12.5C11.7089 12.5 14.5 10.1558 14.5 7.5C14.5 4.84419 11.7089 2.5 8 2.5ZM0.5 7.5C0.5 4.08068 3.97691 1.5 8 1.5C12.0231 1.5 15.5 4.08068 15.5 7.5C15.5 10.9193 12.0231 13.5 8 13.5C7.70158 13.5 7.40709 13.4861 7.11751 13.459C6.97583 13.5528 6.83777 13.6621 6.67569 13.7905C6.62832 13.828 6.5789 13.8671 6.52674 13.908C6.30071 14.085 6.03818 14.2812 5.73354 14.4421C4.73389 14.9702 3.9948 15.0302 3.62977 15.0147C3.39759 15.0048 3.20936 14.8646 3.12194 14.6754C3.03801 14.4938 3.05143 14.2816 3.15736 14.1099C3.24804 13.963 3.40655 13.6808 3.52825 13.3343C3.62961 13.0457 3.70134 12.6878 3.72712 12.4347C1.81521 11.3748 0.5 9.58517 0.5 7.5Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n",
        "<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle cx=\"8\" cy=\"8\" :r=\"radius\" fill=\"currentColor\" />\n  </svg>\n</template>\n<script setup>\nconst props = defineProps({\n  radius: {\n    type: Number,\n    default: 3.5,\n  },\n});\n</script>\n",
        "<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M5.85355 3.14645C5.65829 2.95118 5.34171 2.95118 5.14645 3.14645L1.14645 7.14645C0.951184 7.34171 0.951184 7.65829 1.14645 7.85355L5.14645 11.8536C5.34171 12.0488 5.65829 12.0488 5.85355 11.8536C6.04882 11.6583 6.04882 11.3417 5.85355 11.1464L2.20711 7.5L5.85355 3.85355C6.04882 3.65829 6.04882 3.34171 5.85355 3.14645ZM10 8C11.933 8 13.5 9.567 13.5 11.5V12C13.5 12.2761 13.7239 12.5 14 12.5C14.2761 12.5 14.5 12.2761 14.5 12V11.5C14.5 9.01472 12.4853 7 10 7H6.6728L9.81924 3.85355C10.0145 3.65829 10.0145 3.34171 9.81924 3.14645C9.62398 2.95118 9.3074 2.95118 9.11214 3.14645L5.11214 7.14645C4.91688 7.34171 4.91688 7.65829 5.11214 7.85355L9.11214 11.8536C9.3074 12.0488 9.62398 12.0488 9.81924 11.8536C10.0145 11.6583 10.0145 11.3417 9.81924 11.1464L6.6728 8H10Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n",
        "<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M5.64645 3.14645C5.84171 2.95118 6.15829 2.95118 6.35355 3.14645C6.54882 3.34171 6.54882 3.65829 6.35355 3.85355L3.20711 7H10C12.4853 7 14.5 9.01472 14.5 11.5V12C14.5 12.2761 14.2761 12.5 14 12.5C13.7239 12.5 13.5 12.2761 13.5 12V11.5C13.5 9.567 11.933 8 10 8H3.20711L6.35355 11.1464C6.54882 11.3417 6.54882 11.6583 6.35355 11.8536C6.15829 12.0488 5.84171 12.0488 5.64645 11.8536L1.64645 7.85355C1.45118 7.65829 1.45118 7.34171 1.64645 7.14645L5.64645 3.14645Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n",
        "<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M5.85355 9.64645C5.65829 9.45118 5.34171 9.45118 5.14645 9.64645C4.95118 9.84171 4.95118 10.1583 5.14645 10.3536L7.64645 12.8536C7.84171 13.0488 8.15829 13.0488 8.35355 12.8536L10.8536 10.3536C11.0488 10.1583 11.0488 9.84171 10.8536 9.64645C10.6583 9.45118 10.3417 9.45118 10.1464 9.64645L8 11.7929L5.85355 9.64645ZM5.85355 6.35355C5.65829 6.54882 5.34171 6.54882 5.14645 6.35355C4.95118 6.15829 4.95118 5.84171 5.14645 5.64645L7.64645 3.14645C7.84171 2.95118 8.15829 2.95118 8.35355 3.14645L10.8536 5.64645C11.0488 5.84171 11.0488 6.15829 10.8536 6.35355C10.6583 6.54882 10.3417 6.54882 10.1464 6.35355L8 4.20711L5.85355 6.35355Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n",
        "<template>\n  <TextEditor\n    ref=\"editorRef\"\n    :editor-class=\"[\n      'prose-sm max-w-full mx-6 md:mx-10 max-h-[50vh] py-3',\n      'min-h-[7rem]',\n      getFontFamily(newEmail),\n      editable && '!max-h-[35vh] overflow-y-auto',\n    ]\"\n    :content=\"newEmail\"\n    :starterkit-options=\"{ heading: { levels: [2, 3, 4, 5, 6] } }\"\n    :placeholder=\"placeholder\"\n    :editable=\"editable\"\n    @change=\"editable ? (newEmail = $event) : null\"\n    :extensions=\"[PreserveVideoControls]\"\n  >\n    <template #top>\n      <div class=\"mx-6 md:mx-10 flex items-center gap-2 border-y py-2.5\">\n        <span class=\"text-xs text-gray-500\">TO:</span>\n        <MultiSelectInput\n          v-model=\"toEmailsClone\"\n          class=\"flex-1\"\n          :validate=\"validateEmail\"\n          :error-message=\"(value) => `${value} is an invalid email address`\"\n        />\n        <Button\n          :label=\"'CC'\"\n          :class=\"[cc ? 'bg-gray-300 hover:bg-gray-200' : '']\"\n          @click=\"toggleCC()\"\n        />\n        <Button\n          :label=\"'BCC'\"\n          :class=\"[bcc ? 'bg-gray-300 hover:bg-gray-200' : '']\"\n          @click=\"toggleBCC()\"\n        />\n      </div>\n      <div\n        v-if=\"showCC || cc\"\n        class=\"mx-10 flex items-center gap-2 py-2.5\"\n        :class=\"cc || showCC ? 'border-b' : ''\"\n      >\n        <span class=\"text-xs text-gray-500\">CC:</span>\n        <MultiSelectInput\n          ref=\"ccInput\"\n          v-model=\"ccEmailsClone\"\n          class=\"flex-1\"\n          :validate=\"validateEmail\"\n          :error-message=\"(value) => `${value} is an invalid email address`\"\n        />\n      </div>\n      <div\n        v-if=\"showBCC || bcc\"\n        class=\"mx-10 flex items-center gap-2 py-2.5\"\n        :class=\"bcc || showBCC ? 'border-b' : ''\"\n      >\n        <span class=\"text-xs text-gray-500\">BCC:</span>\n        <MultiSelectInput\n          ref=\"bccInput\"\n          v-model=\"bccEmailsClone\"\n          class=\"flex-1\"\n          :validate=\"validateEmail\"\n          :error-message=\"(value) => `${value} is an invalid email address`\"\n        />\n      </div>\n    </template>\n    <!-- <template v-slot:editor=\"{ _editor }\">\n      <EditorContent\n        :class=\"[editable && 'max-h-[35vh] overflow-y-auto']\"\n        :editor=\"_editor\"\n      />\n    </template> -->\n    <template #bottom>\n      <!-- Attachments -->\n      <div class=\"flex flex-wrap gap-2 px-10\">\n        <AttachmentItem\n          v-for=\"a in attachments\"\n          :key=\"a.file_url\"\n          :label=\"a.file_name\"\n        >\n          <template #suffix>\n            <FeatherIcon\n              class=\"h-3.5\"\n              name=\"x\"\n              @click.stop=\"removeAttachment(a)\"\n            />\n          </template>\n        </AttachmentItem>\n      </div>\n      <!-- TextEditor Fixed Menu -->\n      <div\n        class=\"flex justify-between overflow-scroll pl-10 py-2.5 items-center\"\n      >\n        <div class=\"flex items-center overflow-x-auto w-[60%]\">\n          <div class=\"flex gap-1\">\n            <FileUploader\n              :upload-args=\"{\n                doctype: doctype,\n                docname: modelValue?.name,\n                private: true,\n              }\"\n              @success=\"\n                (f) => {\n                  attachments.push(f);\n                }\n              \"\n            >\n              <template #default=\"{ openFileSelector }\">\n                <Button variant=\"ghost\" @click=\"openFileSelector()\">\n                  <template #icon>\n                    <AttachmentIcon\n                      class=\"h-4\"\n                      style=\"color: #000000; stroke-width: 1.5 !important\"\n                    />\n                  </template>\n                </Button>\n              </template>\n            </FileUploader>\n            <Button\n              variant=\"ghost\"\n              @click=\"showCannedResponseSelectorModal = true\"\n            >\n              <template #icon>\n                <EmailIcon\n                  class=\"h-4\"\n                  style=\"color: #000000; stroke-width: 1.2\"\n                />\n              </template>\n            </Button>\n          </div>\n          <TextEditorFixedMenu class=\"ml-1\" :buttons=\"textEditorMenuButtons\" />\n        </div>\n        <div\n          class=\"flex items-center justify-end space-x-2 sm:mt-0 w-[40%] mr-9\"\n        >\n          <Button label=\"Discard\" @click=\"handleDiscard\" />\n          <Button\n            variant=\"solid\"\n            :disabled=\"emailEmpty\"\n            :loading=\"sendMail.loading\"\n            :label=\"label\"\n            @click=\"\n              () => {\n                submitMail();\n              }\n            \"\n          />\n        </div>\n      </div>\n    </template>\n  </TextEditor>\n  <CannedResponseSelectorModal\n    v-model=\"showCannedResponseSelectorModal\"\n    :doctype=\"doctype\"\n    @apply=\"applyCannedResponse\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  AttachmentItem,\n  CannedResponseSelectorModal,\n  MultiSelectInput,\n} from \"@/components\";\nimport { AttachmentIcon, EmailIcon } from \"@/components/icons\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { PreserveVideoControls } from \"@/tiptap-extensions\";\nimport {\n  getFontFamily,\n  isContentEmpty,\n  textEditorMenuButtons,\n  validateEmail,\n} from \"@/utils\";\n// import { EditorContent } from \"@tiptap/vue-3\";\nimport { useStorage } from \"@vueuse/core\";\nimport {\n  FileUploader,\n  TextEditor,\n  TextEditorFixedMenu,\n  createResource,\n  toast,\n} from \"frappe-ui\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\nimport { computed, nextTick, ref } from \"vue\";\n\nconst editorRef = ref(null);\nconst showCannedResponseSelectorModal = ref(false);\n\nconst props = defineProps({\n  placeholder: {\n    type: String,\n    default: null,\n  },\n  label: {\n    type: String,\n    default: \"Send\",\n  },\n  editable: {\n    type: Boolean,\n    default: true,\n  },\n  doctype: {\n    type: String,\n    default: \"HD Ticket\",\n  },\n  toEmails: {\n    type: Array,\n    default: () => [],\n  },\n  ccEmails: {\n    type: Array,\n    default: () => [],\n  },\n  bccEmails: {\n    type: Array,\n    default: () => [],\n  },\n});\n\nconst label = computed(() => {\n  return sendMail.loading ? \"Sending...\" : props.label;\n});\n\nconst emit = defineEmits([\"submit\", \"discard\"]);\nconst doc = defineModel();\n\nconst newEmail = useStorage(\"emailBoxContent\" + doc.value.name, \"\");\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\nconst { isManager } = useAuthStore();\n\nconst attachments = ref([]);\nconst emailEmpty = computed(() => {\n  return isContentEmpty(newEmail.value);\n});\n\nconst toEmailsClone = ref([...props.toEmails]);\nconst ccEmailsClone = ref([...props.ccEmails]);\nconst bccEmailsClone = ref([...props.bccEmails]);\nconst showCC = ref(false);\nconst showBCC = ref(false);\nconst cc = computed(() => (ccEmailsClone.value?.length ? true : false));\nconst bcc = computed(() => (bccEmailsClone.value?.length ? true : false));\nconst ccInput = ref(null);\nconst bccInput = ref(null);\n\nfunction applyCannedResponse(template) {\n  newEmail.value = template.message;\n  showCannedResponseSelectorModal.value = false;\n}\n\nconst sendMail = createResource({\n  url: \"run_doc_method\",\n  makeParams: () => ({\n    dt: props.doctype,\n    dn: doc.value.name,\n    method: \"reply_via_agent\",\n    args: {\n      attachments: attachments.value.map((x) => x.name),\n      to: toEmailsClone.value.join(\",\"),\n      cc: ccEmailsClone.value?.join(\",\"),\n      bcc: bccEmailsClone.value?.join(\",\"),\n      message: newEmail.value,\n    },\n  }),\n  onSuccess: () => {\n    resetState();\n    emit(\"submit\");\n\n    if (isManager) {\n      updateOnboardingStep(\"reply_on_ticket\");\n    }\n  },\n  debounce: 300,\n});\n\nfunction submitMail() {\n  if (isContentEmpty(newEmail.value)) {\n    return false;\n  }\n  if (!toEmailsClone.value.length) {\n    toast.warning(\n      \"Email has no recipients. Please add at least one email address in the 'TO' field.\"\n    );\n    return false;\n  }\n\n  sendMail.submit();\n}\n\nfunction toggleCC() {\n  showCC.value = !showCC.value;\n\n  showCC.value &&\n    nextTick(() => {\n      ccInput.value.setFocus();\n    });\n}\n\nfunction toggleBCC() {\n  showBCC.value = !showBCC.value;\n  showBCC.value &&\n    nextTick(() => {\n      bccInput.value.setFocus();\n    });\n}\n\nfunction removeAttachment(attachment) {\n  attachments.value = attachments.value.filter((a) => a !== attachment);\n}\n\nfunction addToReply(\n  body: string,\n  toEmails: string[],\n  ccEmails: string[],\n  bccEmails: string[]\n) {\n  toEmailsClone.value = toEmails;\n  ccEmailsClone.value = ccEmails;\n  bccEmailsClone.value = bccEmails;\n  editorRef.value.editor\n    .chain()\n    .clearContent()\n    .insertContent(body)\n    .focus(\"all\")\n    .setBlockquote()\n    .insertContentAt(0, { type: \"paragraph\" })\n    .focus(\"start\")\n    .run();\n}\n\nfunction resetState() {\n  newEmail.value = null;\n  attachments.value = [];\n}\n\nfunction handleDiscard() {\n  attachments.value = [];\n  newEmail.value = null;\n\n  ccEmailsClone.value = [];\n  bccEmailsClone.value = [];\n  ccEmailsClone.value = [];\n  showCC.value = false;\n  showBCC.value = false;\n\n  emit(\"discard\");\n}\n\nconst editor = computed(() => {\n  return editorRef.value.editor;\n});\n\ndefineExpose({\n  addToReply,\n  editor,\n  submitMail,\n});\n</script>\n",
        "import { computed } from \"vue\";\nimport { defineStore } from \"pinia\";\nimport { createListResource } from \"frappe-ui\";\n\nexport const useAgentStore = defineStore(\"agent\", () => {\n  const agents = createListResource({\n    doctype: \"HD Agent\",\n    fields: [\"name\", \"agent_name\", \"user\", \"user.user_image\"],\n    filters: { is_active: 1 },\n    pageLength: 99999,\n  });\n\n  const dropdown = computed(() =>\n    agents.data?.map((o) => ({\n      label: o.agent_name,\n      value: o.name,\n    }))\n  );\n\n  function searchAgents(query: string) {\n    return agents.data.filter((a) =>\n      a.user?.toLowerCase().includes(query.toLowerCase())\n    );\n  }\n\n  return {\n    dropdown,\n    agents,\n    searchAgents,\n  };\n});\n",
        "<template>\n  <TextEditor\n    v-if=\"agentsList.data\"\n    ref=\"editorRef\"\n    :editor-class=\"[\n      'prose-sm max-w-none',\n      editable &&\n        'min-h-[7rem] mx-6 md:ml-10 md:mr-9 max-h-[50vh] overflow-y-auto border-t py-3',\n      getFontFamily(newComment),\n    ]\"\n    :content=\"newComment\"\n    :starterkit-options=\"{ heading: { levels: [2, 3, 4, 5, 6] } }\"\n    :placeholder=\"placeholder\"\n    :editable=\"editable\"\n    :mentions=\"agents\"\n    @change=\"editable ? (newComment = $event) : null\"\n    :extensions=\"[PreserveVideoControls]\"\n  >\n    <template #bottom>\n      <div v-if=\"editable\" class=\"flex flex-col gap-2 px-6 md:pl-10 md:pr-9\">\n        <!-- Attachments -->\n        <div class=\"flex flex-wrap gap-2\">\n          <AttachmentItem\n            v-for=\"a in attachments\"\n            :key=\"a.file_url\"\n            :label=\"a.file_name\"\n          >\n            <template #suffix>\n              <FeatherIcon\n                class=\"h-3.5\"\n                name=\"x\"\n                @click.stop=\"removeAttachment(a)\"\n              />\n            </template>\n          </AttachmentItem>\n        </div>\n        <!-- Fixed Menu -->\n        <div class=\"flex justify-between overflow-hidden border-t py-2.5\">\n          <div class=\"flex items-center overflow-x-auto w-[60%]\">\n            <TextEditorFixedMenu\n              class=\"-ml-1\"\n              :buttons=\"textEditorMenuButtons\"\n            />\n            <FileUploader\n              :upload-args=\"{\n                doctype: doctype,\n                docname: modelValue.name,\n                private: true,\n              }\"\n              @success=\"(f) => attachments.push(f)\"\n            >\n              <template #default=\"{ openFileSelector }\">\n                <Button\n                  theme=\"gray\"\n                  variant=\"ghost\"\n                  @click=\"openFileSelector()\"\n                >\n                  <template #icon>\n                    <AttachmentIcon\n                      class=\"h-4\"\n                      style=\"color: #000000; stroke-width: 1.5 !important\"\n                    />\n                  </template>\n                </Button>\n              </template>\n            </FileUploader>\n          </div>\n          <div class=\"flex items-center justify-end space-x-2 w-[40%]\">\n            <Button\n              label=\"Discard\"\n              @click=\"\n                () => {\n                  newComment = '';\n                  attachments = [];\n                  emit('discard');\n                }\n              \"\n            />\n            <Button\n              variant=\"solid\"\n              :label=\"label\"\n              :disabled=\"commentEmpty\"\n              :loading=\"loading\"\n              @click=\"\n                () => {\n                  loading = true;\n                  submitComment();\n                  newComment = '';\n                }\n              \"\n            />\n          </div>\n        </div>\n      </div>\n    </template>\n  </TextEditor>\n</template>\n<script setup lang=\"ts\">\nimport {\n  FileUploader,\n  TextEditor,\n  TextEditorFixedMenu,\n  createResource,\n} from \"frappe-ui\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\nimport { computed, onMounted, ref } from \"vue\";\n\nimport { AttachmentItem } from \"@/components/\";\nimport { AttachmentIcon } from \"@/components/icons/\";\nimport { useAgentStore } from \"@/stores/agent\";\n\nimport { useAuthStore } from \"@/stores/auth\";\nimport { PreserveVideoControls } from \"@/tiptap-extensions\";\nimport { getFontFamily, isContentEmpty, textEditorMenuButtons } from \"@/utils\";\nimport { useStorage } from \"@vueuse/core\";\n\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\nconst { agents: agentsList } = useAgentStore();\nconst { isManager } = useAuthStore();\n\nonMounted(() => {\n  if (\n    agentsList.loading ||\n    agentsList.data?.length ||\n    agentsList.list.promise\n  ) {\n    return;\n  }\n  agentsList.fetch();\n});\n\nconst props = defineProps({\n  placeholder: {\n    type: String,\n    default: null,\n  },\n  label: {\n    type: String,\n    default: \"Comment\",\n  },\n  editable: {\n    type: Boolean,\n    default: true,\n  },\n  doctype: {\n    type: String,\n    default: \"HD Ticket\",\n  },\n});\n\nconst emit = defineEmits([\"submit\", \"discard\"]);\nconst doc = defineModel();\nconst newComment = useStorage(\"commentBoxContent\" + doc.value.name, \"\");\nconst attachments = ref([]);\nconst commentEmpty = computed(() => {\n  return isContentEmpty(newComment.value);\n});\nconst loading = ref(false);\n\nconst label = computed(() => {\n  return loading.value ? \"Sending...\" : props.label;\n});\n\nconst agents = computed(() => {\n  return (\n    agentsList.data?.map((agent) => ({\n      label: agent.agent_name.trimEnd(),\n      value: agent.name,\n    })) || []\n  );\n});\n\nfunction removeAttachment(attachment) {\n  attachments.value = attachments.value.filter((a) => a !== attachment);\n}\n\nasync function submitComment() {\n  if (isContentEmpty(newComment.value)) {\n    return false;\n  }\n  const comment = createResource({\n    url: \"run_doc_method\",\n    makeParams: () => ({\n      dt: props.doctype,\n      dn: doc.value.name,\n      method: \"new_comment\",\n      args: {\n        content: newComment.value,\n        attachments: attachments.value,\n      },\n    }),\n    onSuccess: () => {\n      if (isManager) {\n        updateOnboardingStep(\"comment_on_ticket\");\n      }\n      emit(\"submit\");\n      loading.value = false;\n      attachments.value = [];\n      newComment.value = null;\n    },\n    onError: () => {\n      loading.value = false;\n    },\n  });\n\n  comment.submit();\n}\n\nconst editorRef = ref(null);\nconst editor = computed(() => editorRef.value?.editor);\n\ndefineExpose({\n  submitComment,\n  editor,\n});\n</script>\n",
        "<template>\n  <div>\n    <div class=\"flex flex-wrap gap-1\">\n      <Button\n        v-for=\"value in values\"\n        ref=\"emails\"\n        :key=\"value\"\n        :label=\"value\"\n        theme=\"gray\"\n        variant=\"subtle\"\n        class=\"rounded-full\"\n        @keydown.delete.capture.stop=\"removeLastValue\"\n      >\n        <template #suffix>\n          <FeatherIcon\n            class=\"h-3.5\"\n            name=\"x\"\n            @click.stop=\"removeValue(value)\"\n          />\n        </template>\n      </Button>\n      <div class=\"flex-1\">\n        <Combobox v-model=\"selectedValue\" nullable>\n          <Popover v-model:show=\"showOptions\" class=\"w-full\">\n            <template #target=\"{ togglePopover }\">\n              <ComboboxInput\n                ref=\"search\"\n                class=\"search-input form-input w-full border-none bg-white hover:bg-white focus:border-none focus:!shadow-none focus-visible:!ring-0\"\n                type=\"text\"\n                :value=\"query\"\n                autocomplete=\"off\"\n                @change=\"\n                  (e) => {\n                    query = e.target.value;\n                    showOptions = true;\n                  }\n                \"\n                @focus=\"() => togglePopover()\"\n                @keydown.delete.capture.stop=\"removeLastValue\"\n              />\n            </template>\n            <template #body=\"{ isOpen }\">\n              <div v-show=\"isOpen\">\n                <div class=\"mt-1 rounded-lg bg-white py-1 text-base shadow-2xl\">\n                  <ComboboxOptions\n                    class=\"my-1 max-h-[12rem] overflow-y-auto px-1.5\"\n                    static\n                  >\n                    <ComboboxOption\n                      v-for=\"option in options\"\n                      :key=\"option.value\"\n                      v-slot=\"{ active }\"\n                      :value=\"option\"\n                    >\n                      <li\n                        :class=\"[\n                          'flex cursor-pointer items-center rounded px-2 py-1 text-base',\n                          { 'bg-gray-100': active },\n                        ]\"\n                      >\n                        <UserAvatar\n                          class=\"mr-2\"\n                          :name=\"option.value\"\n                          size=\"lg\"\n                        />\n                        <div class=\"flex flex-col gap-1 p-1 text-gray-800\">\n                          <div class=\"text-base font-medium\">\n                            {{ option.label }}\n                          </div>\n                          <div class=\"text-sm text-gray-600\">\n                            {{ option.value }}\n                          </div>\n                        </div>\n                      </li>\n                    </ComboboxOption>\n                  </ComboboxOptions>\n                </div>\n              </div>\n            </template>\n          </Popover>\n        </Combobox>\n      </div>\n    </div>\n    <ErrorMessage v-if=\"error\" class=\"mt-2 pl-2\" :message=\"error\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxOptions,\n  ComboboxOption,\n} from \"@headlessui/vue\";\nimport { UserAvatar } from \"@/components/\";\nimport { Popover, createResource } from \"frappe-ui\";\nimport { ref, computed, nextTick } from \"vue\";\nimport { watchDebounced } from \"@vueuse/core\";\n\nconst props = defineProps({\n  validate: {\n    type: Function,\n    default: null,\n  },\n  errorMessage: {\n    type: Function,\n    default: (value) => `${value} is an Invalid value`,\n  },\n});\n\nconst values = defineModel();\n\nconst emails = ref([]);\nconst search = ref(null);\nconst error = ref(null);\nconst query = ref(\"\");\nconst text = ref(\"\");\nconst showOptions = ref(false);\n\nconst selectedValue = computed({\n  get: () => query.value || \"\",\n  set: (val) => {\n    query.value = \"\";\n    if (val) {\n      showOptions.value = false;\n    }\n    val?.value && addValue(val.value);\n  },\n});\n\nwatchDebounced(\n  query,\n  (val) => {\n    val = val || \"\";\n    if (text.value === val) return;\n    text.value = val;\n    reload(val);\n  },\n  { debounce: 300, immediate: true }\n);\n\nconst filterOptions = createResource({\n  url: \"frappe.desk.search.search_link\",\n  method: \"POST\",\n  cache: [text.value, \"Contact\"],\n  params: {\n    txt: text.value,\n    doctype: \"Contact\",\n  },\n  transform: (data) => {\n    let allData = data\n      .filter((c) => {\n        return c.description.split(\", \")[1];\n      })\n      .map((option) => {\n        let email = option.description.split(\", \")[1];\n        return {\n          label: option.label || email,\n          value: email,\n        };\n      });\n    return allData;\n  },\n});\n\nconst options = computed(() => {\n  let searchedContacts = filterOptions.data || [];\n  if (!searchedContacts.length && query.value) {\n    searchedContacts.push({\n      label: query.value,\n      value: query.value,\n    });\n  }\n  return searchedContacts;\n});\n\nfunction reload(val) {\n  filterOptions.update({\n    params: {\n      txt: val,\n      doctype: \"Contact\",\n    },\n  });\n  filterOptions.reload();\n}\n\nconst addValue = (value) => {\n  error.value = null;\n  if (value) {\n    const splitValues = value.split(\",\");\n    splitValues.forEach((value) => {\n      value = value.trim();\n      if (value) {\n        // check if value is not already in the values array\n        if (!values.value?.includes(value)) {\n          // check if value is valid\n          if (value && props.validate && !props.validate(value)) {\n            error.value = props.errorMessage(value);\n            return;\n          }\n          // add value to values array\n          if (!values.value) {\n            values.value = [value];\n          } else {\n            values.value.push(value);\n          }\n          value = value.replace(value, \"\");\n        }\n      }\n    });\n    !error.value && (value = \"\");\n  }\n};\n\nconst removeValue = (value) => {\n  values.value = values.value.filter((v) => v !== value);\n};\n\nconst removeLastValue = () => {\n  if (query.value) return;\n\n  let emailRef = emails.value[emails.value.length - 1]?.$el;\n  if (document.activeElement === emailRef) {\n    values.value.pop();\n    nextTick(() => {\n      if (values.value.length) {\n        emailRef = emails.value[emails.value.length - 1].$el;\n        emailRef?.focus();\n      } else {\n        setFocus();\n      }\n    });\n  } else {\n    emailRef?.focus();\n  }\n};\n\nfunction setFocus() {\n  search.value.$el.focus();\n}\n\ndefineExpose({ setFocus });\n</script>\n",
        "<template>\n  <div class=\"flex flex-col comm-area\">\n    <div\n      class=\"flex justify-between gap-3 border-t px-6 md:px-10 py-4 md:py-2.5\"\n    >\n      <div class=\"flex gap-1.5\">\n        <Button\n          ref=\"sendEmailRef\"\n          variant=\"ghost\"\n          label=\"Reply\"\n          :class=\"[showEmailBox ? '!bg-gray-300 hover:!bg-gray-200' : '']\"\n          @click=\"toggleEmailBox()\"\n        >\n          <template #prefix>\n            <EmailIcon class=\"h-4\" />\n          </template>\n        </Button>\n        <Button\n          variant=\"ghost\"\n          label=\"Comment\"\n          :class=\"[showCommentBox ? '!bg-gray-300 hover:!bg-gray-200' : '']\"\n          @click=\"toggleCommentBox()\"\n        >\n          <template #prefix>\n            <CommentIcon class=\"h-4\" />\n          </template>\n        </Button>\n      </div>\n    </div>\n    <div\n      v-show=\"showEmailBox\"\n      class=\"flex gap-1.5 flex-1\"\n      @keydown.ctrl.enter.capture.stop=\"submitEmail\"\n      @keydown.meta.enter.capture.stop=\"submitEmail\"\n    >\n      <EmailEditor\n        ref=\"emailEditorRef\"\n        :label=\"\n          isMobileView ? 'Send' : isMac ? 'Send (⌘ + ⏎)' : 'Send (Ctrl + ⏎)'\n        \"\n        v-model=\"doc\"\n        v-model:content=\"content\"\n        placeholder=\"Hi John, we are looking into this issue.\"\n        :to-emails=\"toEmails\"\n        :cc-emails=\"ccEmails\"\n        :bcc-emails=\"bccEmails\"\n        @submit=\"\n          () => {\n            showEmailBox = false;\n            emit('update');\n          }\n        \"\n        @discard=\"\n          () => {\n            showEmailBox = false;\n          }\n        \"\n      />\n    </div>\n    <div\n      v-show=\"showCommentBox\"\n      @keydown.ctrl.enter.capture.stop=\"submitComment\"\n      @keydown.meta.enter.capture.stop=\"submitComment\"\n    >\n      <CommentTextEditor\n        ref=\"commentTextEditorRef\"\n        :label=\"\n          isMobileView\n            ? 'Comment'\n            : isMac\n            ? 'Comment (⌘ + ⏎)'\n            : 'Comment (Ctrl + ⏎)'\n        \"\n        v-model=\"doc\"\n        :editable=\"showCommentBox\"\n        :doctype=\"doctype\"\n        placeholder=\"@John could you please look into this?\"\n        @submit=\"\n          () => {\n            showCommentBox = false;\n            emit('update');\n          }\n        \"\n        @discard=\"\n          () => {\n            showCommentBox = false;\n          }\n        \"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { CommentTextEditor, EmailEditor } from \"@/components\";\nimport { CommentIcon, EmailIcon } from \"@/components/icons/\";\nimport { useDevice } from \"@/composables\";\nimport { useScreenSize } from \"@/composables/screen\";\nimport { showCommentBox, showEmailBox } from \"@/pages/ticket/modalStates\";\nimport { ref, watch } from \"vue\";\n\nconst emit = defineEmits([\"update\"]);\nconst content = defineModel(\"content\");\nconst doc = defineModel();\nconst { isMac } = useDevice();\nconst { isMobileView } = useScreenSize();\n\nconst emailEditorRef = ref(null);\nconst commentTextEditorRef = ref(null);\n\nfunction toggleEmailBox() {\n  if (showCommentBox.value) {\n    showCommentBox.value = false;\n  }\n  showEmailBox.value = !showEmailBox.value;\n}\n\nfunction toggleCommentBox() {\n  if (showEmailBox.value) {\n    showEmailBox.value = false;\n  }\n  showCommentBox.value = !showCommentBox.value;\n}\n\nfunction submitEmail() {\n  if (emailEditorRef.value.submitMail()) {\n    emit(\"update\");\n  }\n}\n\nfunction submitComment() {\n  if (commentTextEditorRef.value.submitComment()) {\n    emit(\"update\");\n  }\n}\n\nfunction replyToEmail(data: object) {\n  showEmailBox.value = true;\n  emailEditorRef.value.addToReply(\n    data.content,\n    data.to?.split(\",\"),\n    data.cc?.split(\",\"),\n    data.bcc?.split(\",\")\n  );\n}\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    default: \"HD Ticket\",\n  },\n  toEmails: {\n    type: Array,\n    default: () => [],\n  },\n  ccEmails: {\n    type: Array,\n    default: () => [],\n  },\n  bccEmails: {\n    type: Array,\n    default: () => [],\n  },\n});\n\nwatch(\n  () => showEmailBox.value,\n  (value) => {\n    if (value) {\n      emailEditorRef.value?.editor?.commands?.focus();\n    }\n  }\n);\n\nwatch(\n  () => showCommentBox.value,\n  (value) => {\n    if (value) {\n      commentTextEditorRef.value?.editor?.commands?.focus();\n    }\n  }\n);\n\ndefineExpose({\n  replyToEmail,\n  toggleEmailBox,\n  toggleCommentBox,\n  editor: emailEditorRef,\n});\n</script>\n\n<style>\n@media screen and (max-width: 640px) {\n  .comm-area {\n    width: 100vw;\n  }\n}\n.comm-area {\n  width: 100%;\n}\n</style>\n",
        "<template>\n  <Dialog :options=\"{ title: `Split ticket` }\" v-model=\"showDialog\">\n    <template #body-content>\n      <div class=\"flex flex-col gap-4\">\n        <p class=\"text-p-base text-ink-gray-8\">\n          All\n          <span class=\"underline\">emails/ comments</span>\n          from this email onwards will be moved to new ticket.\n        </p>\n        <FormControl\n          label=\"New Ticket Subject\"\n          type=\"text\"\n          v-model=\"subject\"\n          placeholder=\"Add a subject for the new ticket\"\n        />\n        <div\n          class=\"flex items-center gap-2 rounded-md p-2 ring-1 ring-gray-200\"\n        >\n          <TriangleAlert\n            class=\"h-6 w-5 w-min-5 w-max-5 min-h-5 max-w-5 text-yellow-500\"\n          />\n\n          <div class=\"text-wrap text-sm text-gray-700\">\n            This action is irreversible.\n          </div>\n        </div>\n      </div>\n    </template>\n    <template #actions>\n      <Button\n        class=\"w-full\"\n        variant=\"solid\"\n        label=\"Split into new ticket\"\n        :loading=\"splitTicket.loading\"\n        :icon-left=\"LucideSplit\"\n        @click=\"handleTicketSplit\"\n      />\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { Dialog, createResource, toast } from \"frappe-ui\";\nimport { ref } from \"vue\";\nimport LucideSplit from \"~icons/lucide/split\";\nimport TriangleAlert from \"~icons/lucide/triangle-alert\";\n\ninterface Props {\n  ticket_id: string;\n  communication_id: string;\n}\n\ninterface E {\n  (event: \"update\"): void;\n  //   (event: \"rowClick\", row: any): void;\n}\n\nconst props = defineProps<Props>();\nconst emit = defineEmits<E>();\nconst showDialog = defineModel<boolean>();\n\nconst subject = ref(null);\n\nconst splitTicket = createResource({\n  url: \"terrasuitehelpdesk.terrasuitehelpdesk.doctype.hd_ticket.api.split_ticket\",\n  makeParams({ subject, communication_id }) {\n    return {\n      subject,\n      communication_id,\n    };\n  },\n  validate({ subject, communication_id }) {\n    if (!subject) throw { message: \"Subject is required\" };\n    if (!communication_id) throw { message: \"Communication ID is required\" };\n  },\n  onSuccess: (newTicket: string) => {\n    toast.success(\"Ticket split successfully\");\n    showDialog.value = false;\n    window.open(\n      window.location.origin + \"/helpdesk/tickets/\" + newTicket,\n      \"_blank\"\n    );\n    window.location.reload();\n  },\n});\n\nfunction handleTicketSplit() {\n  splitTicket.submit({\n    subject: subject.value,\n    communication_id: props.communication_id,\n  });\n}\n</script>\n\n<style scoped></style>\n",
        "<template>\n  <div\n    v-bind=\"$attrs\"\n    class=\"grow cursor-pointer border-transparent bg-white rounded-md shadow text-base leading-6 transition-all duration-300 ease-in-out\"\n  >\n    <div class=\"flex items-center justify-between gap-2\">\n      <!-- email design for mobile -->\n      <div v-if=\"isMobileView\" class=\"flex items-center gap-2 text-sm\">\n        <div class=\"leading-tight\">\n          <p>{{ sender.full_name || \"No name found\" }}</p>\n          <Tooltip :text=\"dateFormat(creation, dateTooltipFormat)\">\n            <p class=\"text-xs md:text-sm text-gray-600\">\n              {{ timeAgo(creation) }}\n            </p>\n          </Tooltip>\n          <p class=\"sm:flex hidden text-sm text-gray-600\" v-if=\"sender.name\">\n            {{ \"<\" + sender.name + \">\" }}\n          </p>\n        </div>\n      </div>\n      <!-- email design for desktop -->\n      <div v-else class=\"flex items-center gap-1\">\n        <span>{{ sender.full_name || \"No name found\" }}</span>\n        <span class=\"sm:flex hidden text-sm text-gray-600\" v-if=\"sender.name\">{{\n          \"<\" + sender.name + \">\"\n        }}</span>\n      </div>\n\n      <div class=\"flex gap-0.5 items-center\">\n        <Tooltip\n          :text=\"dateFormat(creation, dateTooltipFormat)\"\n          v-if=\"!isMobileView\"\n        >\n          <p class=\"text-xs md:text-sm text-gray-600\">\n            {{ timeAgo(creation) }}\n          </p>\n        </Tooltip>\n        <Button\n          variant=\"ghost\"\n          class=\"text-gray-700\"\n          @click=\"\n            emit('reply', {\n              content: content,\n              to: sender?.name ?? to,\n            })\n          \"\n        >\n          <ReplyIcon class=\"h-4 w-4\" />\n        </Button>\n        <Button\n          variant=\"ghost\"\n          class=\"text-gray-700\"\n          @click=\"\n            emit('reply', {\n              content: content,\n              to: sender?.name ?? to,\n              cc: cc,\n              bcc: bcc,\n            })\n          \"\n        >\n          <ReplyAllIcon class=\"h-4 w-4\" />\n        </Button>\n        <Dropdown\n          v-if=\"showSplitOption\"\n          :placement=\"'right'\"\n          :options=\"[\n            {\n              label: 'Split Ticket',\n              icon: LucideSplit,\n              onClick: () => (showSplitModal = true),\n            },\n          ]\"\n        >\n          <Button\n            icon=\"more-horizontal\"\n            class=\"text-gray-600\"\n            variant=\"ghost\"\n          />\n        </Dropdown>\n      </div>\n    </div>\n    <!-- <div class=\"text-sm leading-5 text-gray-600\">\n      {{ subject }}\n    </div> -->\n    <div class=\"text-sm leading-5 text-gray-600\">\n      <span v-if=\"to\" class=\"text-2xs mr-1 font-bold text-gray-500\">TO:</span>\n      <span v-if=\"to\"> {{ to }} </span>\n      <span v-if=\"cc\">, </span>\n      <span v-if=\"cc\" class=\"text-2xs mr-1 font-bold text-gray-500\"> CC: </span>\n      <span v-if=\"cc\">{{ cc }}</span>\n      <span v-if=\"bcc\">, </span>\n      <span v-if=\"bcc\" class=\"text-2xs mr-1 font-bold text-gray-500\">\n        BCC:\n      </span>\n      <span v-if=\"bcc\">{{ bcc }}</span>\n    </div>\n    <div class=\"border-0 border-t my-3 border-outline-gray-modals\" />\n    <EmailContent :content=\"content\" />\n    <div class=\"flex flex-wrap gap-2\">\n      <AttachmentItem\n        v-for=\"a in attachments\"\n        :key=\"a.file_url\"\n        :label=\"a.file_name\"\n        :url=\"a.file_url\"\n      />\n    </div>\n  </div>\n  <TicketSplitModal\n    v-model=\"showSplitModal\"\n    :ticket_id=\"name\"\n    :communication_id=\"name\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { AttachmentItem } from \"@/components\";\nimport { useScreenSize } from \"@/composables/screen\";\nimport { dateFormat, dateTooltipFormat, timeAgo } from \"@/utils\";\nimport { Dropdown } from \"frappe-ui\";\nimport { ref } from \"vue\";\nimport LucideSplit from \"~icons/lucide/split\";\nimport { ReplyAllIcon, ReplyIcon } from \"./icons\";\nimport TicketSplitModal from \"./ticket/TicketSplitModal.vue\";\nconst props = defineProps({\n  activity: {\n    type: Object,\n    required: true,\n  },\n  showSplitOption: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst { sender, to, cc, bcc, creation, subject, attachments, content, name } =\n  props.activity;\n\nconst emit = defineEmits([\"reply\"]);\n\nconst { isMobileView } = useScreenSize();\n\nconst showSplitModal = ref(false);\n\n// TODO: Implement reply functionality using this way instead of emit drillup\n// function reply(email, reply_all = false) {\n//   emailBox.toggleEmailBox();\n//   let editor = emailBox.editor;\n//   let message = email.content;\n//   let recipients = sender.name;\n//   editor.toEmails = [email.sender];\n//   editor.cc = editor.bcc = false;\n//   editor.ccEmails = [];\n//   editor.bccEmails = [];\n//   console.log(recipients);\n\n//   if (!email.subject.startsWith(\"Re:\")) {\n//     editor.subject = `Re: ${email.subject}`;\n//   } else {\n//     editor.subject = email.subject;\n//   }\n\n//   if (reply_all) {\n//     let cc = email.cc?.split(\",\").map((r) => r.trim());\n//     let bcc = email.bcc?.split(\",\").map((r) => r.trim());\n\n//     if (cc?.length) {\n//       recipients = recipients.filter((r) => !cc?.includes(r));\n//       cc.push(...recipients);\n//     } else {\n//       cc = recipients;\n//     }\n\n//     editor.cc = cc ? true : false;\n//     editor.bcc = bcc ? true : false;\n\n//     editor.ccEmails = cc;\n//     editor.bccEmails = bcc;\n//   }\n\n//   let repliedMessage = `<blockquote>${message}</blockquote>`;\n\n//   editor.editor\n//     .chain()\n//     .clearContent()\n//     .insertContent(\"<p>.</p>\")\n//     .updateAttributes(\"paragraph\", { class: \"reply-to-content\" })\n//     .insertContent(repliedMessage)\n//     .focus(\"all\")\n//     .insertContentAt(0, { type: \"paragraph\" })\n//     .focus(\"start\")\n//     .run();\n// }\n</script>\n\n<style>\n.email-content {\n  max-width: 100%;\n}\n.email-content > * {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n}\n</style>\n",
        "<template>\n  <div class=\"flex-col text-base flex-1\" ref=\"commentBoxRef\">\n    <div class=\"mb-1 ml-0.5 flex items-center justify-between\">\n      <div class=\"text-gray-600 flex items-center gap-2\">\n        <Avatar\n          size=\"md\"\n          :label=\"commenter\"\n          :image=\"getUser(commentedBy).user_image\"\n        />\n        <p>\n          <span class=\"font-medium text-gray-800\">\n            {{ commenter }}\n          </span>\n          <span> added a</span>\n          <span class=\"max-w-xs truncate font-medium text-gray-800\">\n            comment\n          </span>\n        </p>\n      </div>\n      <div class=\"flex items-center gap-1\">\n        <Tooltip :text=\"dateFormat(creation, dateTooltipFormat)\">\n          <span class=\"pl-0.5 text-sm text-gray-600\">\n            {{ timeAgo(creation) }}\n          </span>\n        </Tooltip>\n        <div v-if=\"authStore.userId === commentedBy && !editable\">\n          <Dropdown\n            :placement=\"'right'\"\n            :options=\"[\n              {\n                label: 'Edit',\n                onClick: () => handleEditMode(),\n                icon: 'edit-2',\n                condition: () => !isTicketMergedComment,\n              },\n              {\n                label: 'Delete',\n                onClick: () => (showDialog = true),\n                icon: 'trash-2',\n              },\n            ]\"\n          >\n            <Button\n              icon=\"more-horizontal\"\n              class=\"text-gray-600\"\n              variant=\"ghost\"\n            />\n          </Dropdown>\n        </div>\n      </div>\n    </div>\n    <div class=\"rounded bg-gray-50 px-4 py-3\">\n      <TextEditor\n        ref=\"editorRef\"\n        :editor-class=\"[\n          'prose-f shrink text-p-sm transition-all duration-300 ease-in-out block w-full content',\n          getFontFamily(_content),\n        ]\"\n        :content=\"_content\"\n        :editable=\"editable\"\n        :bubble-menu=\"textEditorMenuButtons\"\n        @change=\"(event:string) => {_content = event}\"\n      >\n        <template #bottom v-if=\"editable\">\n          <div class=\"flex flex-row-reverse gap-2\">\n            <Button label=\"Save\" @click=\"handleSaveComment\" variant=\"solid\" />\n            <Button label=\"Discard\" @click=\"handleDiscard\" />\n          </div>\n        </template>\n      </TextEditor>\n      <div class=\"flex flex-wrap gap-2\" v-if=\"!editable\">\n        <AttachmentItem\n          v-for=\"a in attachments\"\n          :key=\"a.file_url\"\n          :label=\"a.file_name\"\n          :url=\"a.file_url\"\n        />\n      </div>\n    </div>\n  </div>\n  <Dialog\n    v-model=\"showDialog\"\n    :options=\"{\n      title: 'Delete Comment',\n      message: 'Are you sure you want to confirm this action?',\n      actions: [\n        { label: 'Cancel', onClick: () => (showDialog = false) },\n        {\n          label: 'Delete',\n          onClick: () => deleteComment.submit(),\n          variant: 'solid',\n        },\n      ],\n    }\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { AttachmentItem } from \"@/components\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { updateRes as updateComment } from \"@/stores/knowledgeBase\";\nimport { useUserStore } from \"@/stores/user\";\nimport { CommentActivity } from \"@/types\";\nimport {\n  dateFormat,\n  dateTooltipFormat,\n  getFontFamily,\n  isContentEmpty,\n  textEditorMenuButtons,\n  timeAgo,\n} from \"@/utils\";\nimport {\n  Avatar,\n  Dialog,\n  Dropdown,\n  TextEditor,\n  createResource,\n  toast,\n} from \"frappe-ui\";\nimport { PropType, computed, onMounted, ref } from \"vue\";\nconst authStore = useAuthStore();\nconst props = defineProps({\n  activity: {\n    type: Object as PropType<CommentActivity>,\n    required: true,\n  },\n});\nconst { getUser } = useUserStore();\n\nconst { name, creation, content, commenter, commentedBy, attachments } =\n  props.activity;\n\nconst isTicketMergedComment = computed(() => {\n  const regex = /has been merged with ticket #\\d+/;\n  return regex.test(content);\n});\n\nconst emit = defineEmits([\"update\"]);\nconst showDialog = ref(false);\nconst editable = ref(false);\nconst _content = ref(content);\n\n// HTML refs\nconst commentBoxRef = ref(null);\nconst editorRef = ref(null);\n\nfunction handleEditMode() {\n  editable.value = true;\n  editorRef.value.editor.chain().focus(\"start\");\n}\n\nfunction handleDiscard() {\n  _content.value = content;\n  editable.value = false;\n}\n\nconst deleteComment = createResource({\n  url: \"frappe.client.delete\",\n  makeParams: () => ({\n    doctype: \"HD Ticket Comment\",\n    name: name,\n  }),\n  onSuccess() {\n    emit(\"update\");\n    toast.success(\"Comment deleted\");\n  },\n});\n\nfunction handleSaveComment() {\n  if (content === _content.value) {\n    editable.value = false;\n    return;\n  }\n  if (isContentEmpty(_content.value)) {\n    toast.error(\"Comment cannot be empty\");\n    return;\n  }\n\n  updateComment.submit(\n    {\n      doctype: \"HD Ticket Comment\",\n      name: name,\n      fieldname: \"content\",\n      value: _content.value,\n    },\n    {\n      onSuccess: () => {\n        editable.value = false;\n        emit(\"update\");\n        toast.success(\"Comment updated\");\n      },\n    }\n  );\n}\n\nonMounted(() => {\n  commentBoxRef.value.style.width = \"0px\";\n});\n</script>\n",
        "<template>\n  <div class=\"flex-1\">\n    <div\n      class=\"mt-1.5 flex justify-between text-base items-start md:items-center\"\n    >\n      <div\n        v-if=\"relatedActivities.length > 1\"\n        class=\"inline-flex flex-wrap gap-1.5 text-ink-gray-8 font-medium w-4/5\"\n      >\n        <span>{{ `${show_others ? \"Hide \" : \"Show \"}` }}</span>\n        <span>+{{ relatedActivities.length }} </span>\n        <span>changes from </span>\n        <span>{{ user }}</span>\n\n        <Button\n          class=\"!size-4\"\n          variant=\"ghost\"\n          @click=\"show_others = !show_others\"\n        >\n          <template #icon>\n            <SelectIcon />\n          </template>\n        </Button>\n      </div>\n      <div class=\"text-gray-600 w-4/6\" v-else>\n        <span class=\"font-medium text-gray-800\">\n          {{ user }}\n        </span>\n        <span> {{ content }}</span>\n      </div>\n\n      <Tooltip :text=\"dateFormat(creation, dateTooltipFormat)\">\n        <div class=\"text-gray-600 text-sm w-2/6 flex justify-end\">\n          {{ timeAgo(creation) }}\n        </div>\n      </Tooltip>\n    </div>\n    <div v-if=\"show_others\">\n      <div\n        v-for=\"relatedActivity in relatedActivities\"\n        :key=\"relatedActivity.creation\"\n        class=\"mt-2 flex justify-between text-base\"\n      >\n        <div class=\"text-gray-600 w-4/6\">\n          <span class=\"font-medium text-gray-800\">\n            {{ relatedActivity.user }}\n          </span>\n          <span> {{ relatedActivity.content }}</span>\n        </div>\n        <Tooltip\n          :text=\"dateFormat(relatedActivity.creation, dateTooltipFormat)\"\n        >\n          <div class=\"text-gray-600 text-sm w-2/6 flex justify-end\">\n            {{ timeAgo(relatedActivity.creation) }}\n          </div>\n        </Tooltip>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { SelectIcon } from \"@/components/icons\";\nimport { dateFormat, dateTooltipFormat, timeAgo } from \"@/utils\";\nimport { ref } from \"vue\";\nconst props = defineProps({\n  activity: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst { user, content, creation, relatedActivities } = props.activity;\n\nlet show_others = ref(false);\n</script>\n",
        "<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{\n      title: 'Assign To',\n      size: 'xl',\n    }\"\n  >\n    <template #body-content>\n      <SearchComplete\n        class=\"form-control\"\n        doctype=\"HD Agent\"\n        :custom-filters=\"customFilters\"\n        :reset-input=\"true\"\n        @change=\"\n          (option) => {\n            addAssignee(option.value);\n          }\n        \"\n      >\n        <template #item-prefix=\"{ option }\">\n          <UserAvatar class=\"mr-2\" :name=\"option.value\" size=\"sm\" />\n        </template>\n        <template #item-label=\"{ option }\">\n          <Tooltip :text=\"option.value\">\n            {{ getUser(option.value).full_name }}\n          </Tooltip>\n        </template>\n      </SearchComplete>\n      <div class=\"mt-3 flex flex-wrap items-center gap-2\">\n        <Tooltip\n          v-for=\"currentAssignee in assignees\"\n          :key=\"currentAssignee.name\"\n          :text=\"currentAssignee.name\"\n        >\n          <Button\n            :label=\"getUser(currentAssignee.name).full_name\"\n            theme=\"gray\"\n            variant=\"outline\"\n          >\n            <template #prefix>\n              <UserAvatar :name=\"currentAssignee.name\" size=\"sm\" />\n            </template>\n            <template #suffix>\n              <FeatherIcon\n                class=\"h-3.5\"\n                name=\"x\"\n                @click.stop=\"removeCurrentAssignee(currentAssignee.name)\"\n              />\n            </template>\n          </Button>\n        </Tooltip>\n      </div>\n      <ErrorMessage v-if=\"error\" class=\"mt-2\" :message=\"error\" />\n    </template>\n  </Dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { SearchComplete, UserAvatar } from \"@/components\";\nimport { useAuthStore } from \"@/stores/auth\";\nimport { useUserStore } from \"@/stores/user\";\nimport { createResource } from \"frappe-ui\";\nimport { useOnboarding } from \"frappe-ui/frappe\";\nimport { computed, ref } from \"vue\";\n\nconst props = defineProps({\n  assignees: {\n    type: Array,\n    required: true,\n  },\n  doctype: {\n    type: String,\n    required: true,\n  },\n  docname: {\n    type: String,\n    required: true,\n  },\n});\n\nconst show = defineModel();\n\nconst emit = defineEmits([\"update\"]);\n\nconst { getUser } = useUserStore();\nconst { updateOnboardingStep } = useOnboarding(\"helpdesk\");\nconst { isManager } = useAuthStore();\n\nconst error = ref(\"\");\n\nconst addAssignee = (value) => {\n  error.value = \"\";\n  createResource({\n    url: \"frappe.desk.form.assign_to.add\",\n    auto: true,\n    params: {\n      doctype: props.doctype,\n      name: props.docname,\n      assign_to: [value],\n    },\n    onSuccess: () => {\n      emit(\"update\");\n      if (isManager) {\n        updateOnboardingStep(\"assign_to_agent\");\n      }\n    },\n  });\n  emit(\"update\");\n};\n\nconst removeCurrentAssignee = (value) => {\n  createResource({\n    url: \"frappe.desk.form.assign_to.remove\",\n    auto: true,\n    params: {\n      doctype: props.doctype,\n      name: props.docname,\n      assign_to: value,\n    },\n    onSuccess: () => {\n      emit(\"update\");\n    },\n  });\n};\n\nconst customFilters = computed(() => {\n  const filters = {};\n  filters[\"is_active\"] = [\"=\", 1];\n  if (Boolean(props.assignees?.length)) {\n    filters[\"name\"] = [\"not in\", [...props.assignees.map((a) => a.name)]];\n  }\n  return filters;\n});\n</script>\n",
        "<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{\n      title: 'Canned Responses',\n      size: '4xl',\n    }\"\n  >\n    <template #body-content>\n      <TextInput\n        ref=\"searchInput\"\n        v-model=\"search\"\n        type=\"text\"\n        :placeholder=\"'Site Down'\"\n      >\n        <template #prefix>\n          <FeatherIcon name=\"search\" class=\"h-4 w-4 text-gray-500\" />\n        </template>\n      </TextInput>\n      <div\n        v-if=\"filteredTemplates.length\"\n        class=\"mt-2 grid max-h-[560px] grid-cols-1 md:grid-cols-3 gap-2 overflow-y-auto\"\n      >\n        <div\n          v-for=\"template in filteredTemplates\"\n          :key=\"template.name\"\n          class=\"flex h-56 cursor-pointer flex-col gap-2 rounded-lg border p-3 hover:bg-gray-100\"\n          @click=\"emit('apply', template)\"\n        >\n          <div class=\"border-b pb-2 text-base font-semibold\">\n            {{ template.title }}\n          </div>\n          <TextEditor\n            v-if=\"template.message\"\n            :content=\"template.message\"\n            :editable=\"false\"\n            editor-class=\"!prose-sm max-w-none !text-sm text-gray-600 focus:outline-none\"\n            class=\"flex-1 overflow-hidden\"\n          />\n        </div>\n      </div>\n      <div v-else class=\"mt-2\">\n        <div class=\"flex h-56 flex-col items-center justify-center\">\n          <div class=\"text-lg text-gray-500\">\n            {{ \"No templates found\" }}\n          </div>\n        </div>\n      </div>\n      <div class=\"flex justify-end mt-4\">\n        <Button\n          label=\"New Canned Response\"\n          @click=\"\n            () => {\n              $router.push('/canned-responses#new');\n              templates.data = null;\n            }\n          \"\n        />\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport { TextEditor, createListResource } from \"frappe-ui\";\nimport { ref, computed, nextTick, watch, onMounted } from \"vue\";\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    default: \"\",\n  },\n});\n\nconst show = defineModel();\nconst searchInput = ref(\"\");\n\nconst emit = defineEmits([\"apply\"]);\n\nconst search = ref(\"\");\n\nconst templates = createListResource({\n  type: \"list\",\n  doctype: \"HD Canned Response\",\n  cache: [\"cannedResponses\", props.doctype],\n  fields: [\"title\", \"message\", \"modified\"],\n  orderBy: \"modified desc\",\n  pageLength: 99999,\n});\n\nonMounted(() => {\n  if (templates.data == null) {\n    templates.fetch();\n  }\n});\n\nconst filteredTemplates = computed(() => {\n  return (\n    templates.data?.filter((template) => {\n      return template.title.toLowerCase().includes(search.value.toLowerCase());\n    }) ?? []\n  );\n});\n\nwatch(show, (value) => value && nextTick(() => searchInput.value?.el?.focus()));\n</script>\n",
        "<template>\n  <div class=\"flex items-center justify-start gap-5 border-b p-5\">\n    <Avatar size=\"3xl\" :image=\"contact.image\" :label=\"contact.name\" />\n    <div class=\"flex items-center justify-between flex-1\">\n      <Tooltip :text=\"contact.name\">\n        <div class=\"w-[242px] truncate text-2xl font-medium\">\n          {{ contact.name }}\n        </div>\n      </Tooltip>\n      <div class=\"flex gap-1.5\">\n        <Tooltip :text=\"contact.email_id\">\n          <Button class=\"h-7 w-7\">\n            <template #icon>\n              <EmailIcon class=\"h-4 w-4\" @click=\"openEmailBox()\" />\n            </template>\n          </Button>\n        </Tooltip>\n        <!-- <RouterLink\n          class=\"group cursor-pointer space-x-1 hover:text-gray-900\"\n          :to=\"{\n            name: 'TicketsAgent',\n          }\"\n          target=\"_blank\"\n        >\n          <Button\n            class=\"h-7 w-7\"\n            @click=\"\n              () => {\n                console.log('Show Contact Tickets');\n              }\n            \"\n          >\n            <Tooltip text=\"Show Contact Tickets\">\n              <TicketIcon class=\"h-4 w-4\" />\n            </Tooltip>\n          </Button>\n        </RouterLink> -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EmailIcon } from \"@/components/icons/\";\nimport { Avatar, Tooltip } from \"frappe-ui\";\n\nconst props = defineProps({\n  contact: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst emit = defineEmits([\"email:open\"]);\n\nfunction openEmailBox() {\n  emit(\"email:open\", props.contact.email_id);\n}\n</script>\n",
        "<template>\n  <div\n    class=\"md:mx-10 md:my-4 flex items-center justify-between text-lg font-medium mx-6 mb-4 !mt-8\"\n  >\n    <div class=\"flex h-8 items-center text-xl font-semibold text-gray-800\">\n      {{ title }}\n    </div>\n    <Button\n      v-if=\"title == 'Emails'\"\n      variant=\"solid\"\n      @click=\"communicationAreaRef.toggleEmailBox()\"\n    >\n      <template #prefix>\n        <FeatherIcon name=\"plus\" class=\"h-4 w-4\" />\n      </template>\n      <span>{{ \"New Email\" }}</span>\n    </Button>\n    <Button\n      v-else-if=\"title == 'Comments'\"\n      variant=\"solid\"\n      @click=\"communicationAreaRef.toggleCommentBox()\"\n    >\n      <template #prefix>\n        <FeatherIcon name=\"plus\" class=\"h-4 w-4\" />\n      </template>\n      <span>{{ \"New Comment\" }}</span>\n    </Button>\n    <Dropdown v-else :options=\"defaultActions\" @click.stop>\n      <template v-slot=\"{ open }\">\n        <Button variant=\"solid\" class=\"flex items-center gap-1\">\n          <template #prefix>\n            <FeatherIcon name=\"plus\" class=\"h-4 w-4\" />\n          </template>\n          <span>{{ \"New\" }}</span>\n          <template #suffix>\n            <FeatherIcon\n              :name=\"open ? 'chevron-up' : 'chevron-down'\"\n              class=\"h-4 w-4\"\n            />\n          </template>\n        </Button>\n      </template>\n    </Dropdown>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { CommentIcon, EmailIcon } from \"@/components/icons\";\nimport { Dropdown } from \"frappe-ui\";\nimport { computed, h, inject, Ref } from \"vue\";\ndefineProps({\n  title: {\n    type: String,\n    required: true,\n  },\n});\n\nconst communicationAreaRef: Ref = inject(\"communicationArea\");\n\nconst defaultActions = computed(() => {\n  let actions = [\n    {\n      icon: h(EmailIcon, { class: \"h-4 w-4\" }),\n      label: \"Email\",\n      onClick: () => communicationAreaRef.value.toggleEmailBox(),\n    },\n    {\n      icon: h(CommentIcon, { class: \"h-4 w-4\" }),\n      label: \"Comment\",\n      onClick: () => communicationAreaRef.value.toggleCommentBox(),\n    },\n  ];\n  return actions;\n});\n</script>\n\n<style scoped></style>\n",
        "<template>\n  <ActivityHeader :title=\"title\" />\n  <FadedScrollableDiv class=\"flex flex-col flex-1 overflow-y-scroll\">\n    <div v-if=\"activities.length\" class=\"activities flex-1 h-full mt-1\">\n      <div\n        v-for=\"(activity, i) in activities\"\n        :key=\"activity.key\"\n        class=\"activity\"\n      >\n        <!-- single activity -->\n        <div\n          class=\"w-full px-6 md:px-10 grid grid-cols-[30px_minmax(auto,_1fr)] gap-2 sm:gap-4\"\n        >\n          <div\n            class=\"relative flex justify-center after:absolute after:left-[50%] after:top-2 after:-z-10 after:border-l after:border-gray-200\"\n            :class=\"[i != activities.length - 1 ? 'after:h-full' : 'after:h-4']\"\n          >\n            <div\n              class=\"z-10 flex h-7 w-7 items-center justify-center rounded-full bg-white\"\n              :class=\"[activity.type === 'email' && 'mt-2']\"\n            >\n              <Avatar\n                v-if=\"activity.type === 'email'\"\n                size=\"lg\"\n                :label=\"activity.sender?.full_name\"\n                :image=\"getUser(activity.sender?.name).user_image\"\n                class=\"bg-white absolute left-[1px]\"\n              />\n              <CommentIcon\n                v-else-if=\"activity.type === 'comment'\"\n                class=\"text-gray-600 absolute left-[7.5px]\"\n              />\n              <DotIcon v-else class=\"text-gray-600 absolute left-[7.5px]\" />\n            </div>\n          </div>\n          <div\n            class=\"mb-4 flex flex-1\"\n            :class=\"[i == activities.length - 1 && 'mb-5']\"\n          >\n            <EmailArea\n              v-if=\"activity.type === 'email'\"\n              :activity=\"activity\"\n              :show-split-option=\"\n                !activity.isFirstEmail && ticketStatus !== 'Closed'\n              \"\n              class=\"py-2 px-3\"\n              @reply=\"(e) => emit('email:reply', e)\"\n            />\n            <CommentBox\n              v-else-if=\"activity.type === 'comment'\"\n              :activity=\"activity\"\n              @update=\"() => emit('update')\"\n            />\n            <HistoryBox v-else :activity=\"activity\" />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-else\n      class=\"h-full flex flex-col items-center justify-center gap-3 text-xl font-medium text-gray-500\"\n    >\n      <component :is=\"emptyTextIcon\" class=\"h-10 w-10\" />\n      <span>{{ emptyText }}</span>\n      <Button\n        v-if=\"title == 'Emails'\"\n        label=\"New Email\"\n        @click=\"communicationAreaRef.toggleEmailBox()\"\n      />\n      <Button\n        v-else-if=\"title == 'Comments'\"\n        label=\"New Comment\"\n        @click=\"communicationAreaRef.toggleCommentBox()\"\n      />\n    </div>\n  </FadedScrollableDiv>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  CommentBox,\n  EmailArea,\n  FadedScrollableDiv,\n  HistoryBox,\n} from \"@/components\";\nimport {\n  ActivityIcon,\n  CommentIcon,\n  DotIcon,\n  EmailIcon,\n} from \"@/components/icons\";\nimport { useUserStore } from \"@/stores/user\";\nimport { TicketActivity } from \"@/types\";\nimport { useElementVisibility } from \"@vueuse/core\";\nimport { Avatar } from \"frappe-ui\";\nimport { PropType, Ref, computed, h, inject, onMounted, watch } from \"vue\";\nconst props = defineProps({\n  activities: {\n    type: Array as PropType<TicketActivity[]>,\n    required: true,\n  },\n  title: {\n    type: String,\n    required: true,\n  },\n  ticketStatus: {\n    type: String,\n    default: \"\",\n  },\n});\n\nconst emit = defineEmits([\"email:reply\", \"update\"]);\n\nconst { getUser } = useUserStore();\nconst communicationAreaRef: Ref = inject(\"communicationArea\");\n\nconst emptyText = computed(() => {\n  let text = \"No Activities\";\n  if (props.title == \"Emails\") {\n    text = \"No Email Communications\";\n  } else if (props.title == \"Comments\") {\n    text = \"No Comments\";\n    return text;\n  }\n});\n\nconst emptyTextIcon = computed(() => {\n  let icon = ActivityIcon;\n  if (props.title == \"Emails\") {\n    icon = EmailIcon;\n  } else if (props.title == \"Comments\") {\n    icon = CommentIcon;\n  }\n  return h(icon, { class: \"text-gray-500\" });\n});\n\nfunction scrollToLatestActivity() {\n  setTimeout(() => {\n    let el;\n    let e = document.getElementsByClassName(\"activity\");\n    el = e[e.length - 1];\n    if (el && !useElementVisibility(el).value) {\n      el.scrollIntoView();\n      el.focus();\n    }\n  }, 500);\n}\n\ndefineExpose({\n  scrollToLatestActivity,\n});\n\nonMounted(() => {\n  scrollToLatestActivity();\n});\n\nwatch(\n  () => props.title,\n  () => {\n    scrollToLatestActivity();\n  }\n);\n</script>\n",
        "<template>\n  <div class=\"flex flex-col gap-3 border-b px-6 py-3\">\n    <div\n      v-for=\"s in sections\"\n      :key=\"s.label\"\n      class=\"flex items-center text-base leading-5\"\n    >\n      <Tooltip :text=\"s.label\">\n        <div class=\"w-[126px] text-sm text-gray-600\">{{ s.label }}</div>\n      </Tooltip>\n      <div class=\"flex items-center justify-between\">\n        <div v-if=\"s.value\">{{ s.value }}</div>\n        <Tooltip :text=\"s.tooltipValue\">\n          <Badge\n            v-if=\"s.badgeText\"\n            class=\"-ml-1\"\n            :label=\"s.badgeText\"\n            variant=\"subtle\"\n            :theme=\"s.badgeColor\"\n          />\n        </Tooltip>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Badge, Tooltip } from \"frappe-ui\";\nimport { dayjs } from \"@/dayjs\";\nimport { formatTime } from \"@/utils\";\nimport { dateFormat, dateTooltipFormat } from \"@/utils\";\nimport { computed } from \"vue\";\n\nconst props = defineProps({\n  ticket: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst firstResponseBadge = computed(() => {\n  let firstResponse = null;\n  if (\n    !props.ticket.first_responded_on &&\n    dayjs().isBefore(dayjs(props.ticket.response_by))\n  ) {\n    firstResponse = {\n      label: `Due in ${formatTime(\n        dayjs(props.ticket.response_by).diff(dayjs(), \"s\")\n      )}`,\n      color: \"orange\",\n    };\n  } else if (\n    dayjs(props.ticket.first_responded_on).isBefore(\n      dayjs(props.ticket.response_by)\n    )\n  ) {\n    firstResponse = {\n      label: `Fulfilled in ${formatTime(\n        dayjs(props.ticket.first_responded_on).diff(\n          dayjs(props.ticket.creation),\n          \"s\"\n        )\n      )}`,\n      color: \"green\",\n    };\n  } else {\n    firstResponse = {\n      label: \"Failed\",\n      color: \"red\",\n    };\n  }\n  return firstResponse;\n});\n\nconst resolutionBadge = computed(() => {\n  let resolution = null;\n  if (\n    props.ticket.status === \"Replied\" &&\n    props.ticket.on_hold_since &&\n    dayjs(props.ticket.resolution_by).isAfter(dayjs(props.ticket.on_hold_since))\n  ) {\n    let time_left = formatTime(\n      dayjs(props.ticket.resolution_by).diff(\n        dayjs(props.ticket.on_hold_since),\n        \"s\"\n      )\n    );\n    resolution = {\n      label: `${time_left} left (On Hold)`,\n      color: \"blue\",\n    };\n  } else if (\n    !props.ticket.resolution_date &&\n    dayjs().isBefore(props.ticket.resolution_by)\n  ) {\n    resolution = {\n      label: `Due in ${formatTime(\n        dayjs(props.ticket.resolution_by).diff(dayjs(), \"s\")\n      )}`,\n      color: \"orange\",\n    };\n  } else if (\n    dayjs(props.ticket.resolution_date).isBefore(props.ticket.resolution_by)\n  ) {\n    resolution = {\n      label: `Fulfilled in ${formatTime(\n        dayjs(props.ticket.resolution_date).diff(\n          dayjs(props.ticket.creation),\n          \"s\"\n        )\n      )}`,\n      color: \"green\",\n    };\n  } else {\n    resolution = {\n      label: \"Failed\",\n      color: \"red\",\n    };\n  }\n  return resolution;\n});\n\nconst sections = computed(() => [\n  {\n    label: \"First Response\",\n    tooltipValue: dateFormat(\n      props.ticket.first_responded_on || props.ticket.response_by,\n      dateTooltipFormat\n    ),\n    badgeText: firstResponseBadge.value.label,\n    badgeColor: firstResponseBadge.value.color,\n  },\n  {\n    label: \"Resolution\",\n    tooltipValue: dateFormat(\n      props.ticket.resolution_date || props.ticket.resolution_by,\n      dateTooltipFormat\n    ),\n    badgeText: resolutionBadge.value.label,\n    badgeColor: resolutionBadge.value.color,\n  },\n  {\n    label: \"Source\",\n    value: props.ticket.via_customer_portal ? \"Portal\" : \"Mail\",\n  },\n]);\n</script>\n",
        "<template>\n  <div class=\"flex gap-2 px-6 pb-1 leading-5 first:mt-3 items-baseline\">\n    <Tooltip :text=\"field.label\">\n      <div class=\"w-[106px] shrink-0 truncate text-sm text-gray-600\">\n        {{ field.label }}\n        <span v-if=\"field.required\" class=\"text-red-500\"> * </span>\n      </div>\n    </Tooltip>\n    <div\n      class=\"-m-0.5 min-h-[28px] flex-1 items-center overflow-hidden p-0.5 text-base\"\n    >\n      <component\n        :is=\"component\"\n        :key=\"field.fieldname\"\n        class=\"form-control\"\n        :placeholder=\"`Add ${field.label}`\"\n        :model-value=\"transValue\"\n        autocomplete=\"off\"\n        v-on=\"\n          textFields.includes(field.fieldtype)\n            ? {\n                blur: (event) => {\n                  emitUpdate(field.fieldname, event.target.value);\n                },\n              }\n            : {\n                'update:model-value': (event) => {\n                  emitUpdate(\n                    field.fieldname,\n                    event?.value || event?.target?.value || event\n                  );\n                },\n              }\n        \"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Autocomplete, Link } from \"@/components\";\nimport { Field, FieldValue } from \"@/types\";\nimport { createResource, FormControl, Tooltip } from \"frappe-ui\";\nimport { computed, h } from \"vue\";\n\ninterface P {\n  field: Field;\n  value: FieldValue;\n}\n\ninterface R {\n  fieldname: Field[\"fieldname\"];\n  value: FieldValue;\n}\n\ninterface E {\n  (event: \"change\", value: R);\n}\n\nconst props = defineProps<P>();\nconst emit = defineEmits<E>();\n\nconst textFields = [\"Long Text\", \"Small Text\", \"Text\", \"Text Editor\", \"Data\"];\n\nconst component = computed(() => {\n  if (props.field.url_method) {\n    return h(Autocomplete, {\n      options: apiOptions.data,\n    });\n  } else if (props.field.fieldtype === \"Link\" && props.field.options) {\n    return h(Link, {\n      doctype: props.field.options,\n      hideMe: true,\n    });\n  } else if (props.field.fieldtype === \"Select\") {\n    return h(Autocomplete, {\n      options: props.field.options\n        .split(\"\\n\")\n        .map((o) => ({ label: o, value: o })),\n    });\n  } else if (props.field.fieldtype === \"Check\") {\n    return h(Autocomplete, {\n      options: [\n        {\n          label: \"Yes\",\n          value: 1,\n        },\n        {\n          label: \"No\",\n          value: 0,\n        },\n      ],\n    });\n  } else if (textFields.includes(props.field.fieldtype)) {\n    return h(FormControl, {\n      type: \"textarea\",\n    });\n  } else {\n    return h(FormControl);\n  }\n});\n\nconst apiOptions = createResource({\n  url: props.field.url_method,\n  auto: !!props.field.url_method,\n  transform: (data) =>\n    data.map((o) => ({\n      label: o,\n      value: o,\n    })),\n});\n\nconst transValue = computed(() => {\n  if (props.field.fieldtype === \"Check\") {\n    return props.value ? \"Yes\" : \"No\";\n  }\n  return props.value;\n});\n\nfunction emitUpdate(fieldname: Field[\"fieldname\"], value: FieldValue) {\n  emit(\"change\", { fieldname, value });\n}\n</script>\n<style scoped>\n:deep(.form-control input:not([type=\"checkbox\"])),\n:deep(.form-control select),\n:deep(.form-control textarea),\n:deep(.form-control button) {\n  border-color: transparent;\n  background: white;\n}\n\n:deep(.form-control button) {\n  gap: 0;\n}\n:deep(.form-control [type=\"checkbox\"]) {\n  margin-left: 9px;\n  cursor: pointer;\n}\n\n:deep(.form-control button > div) {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n:deep(.form-control button svg) {\n  color: white;\n  width: 0;\n}\n</style>\n",
        "<template>\n  <div class=\"flex flex-1 flex-col overflow-hidden overflow-y-auto border-b\">\n    <UniInput2\n      v-for=\"field in fields\"\n      :key=\"field.fieldname\"\n      :field=\"field\"\n      :value=\"ticket[field.fieldname]\"\n      @change=\"(data) => update(data.fieldname, data.value)\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Field, FieldValue } from \"@/types\";\nimport { toast } from \"frappe-ui\";\nimport { computed } from \"vue\";\nimport UniInput2 from \"../UniInput2.vue\";\nconst emit = defineEmits([\"update\"]);\n\nconst props = defineProps({\n  ticket: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst fields = computed(() => {\n  return props.ticket.fields;\n});\n\nfunction update(field: Field[\"fieldname\"], value: FieldValue, event = null) {\n  if (field === \"subject\" && value === \"\") {\n    toast.error(\"Subject is required\");\n    event.target.value = props.ticket.subject;\n    return;\n  }\n  emit(\"update\", { field, value });\n}\n</script>\n<style scoped>\n:deep(.form-control input:not([type=\"checkbox\"])),\n:deep(.form-control select),\n:deep(.form-control textarea),\n:deep(.form-control button) {\n  border-color: transparent;\n  background: white;\n}\n:deep(.form-control textarea) {\n  field-sizing: content;\n}\n\n:deep(.form-control button) {\n  gap: 0;\n}\n:deep(.form-control [type=\"checkbox\"]) {\n  margin-left: 9px;\n  cursor: pointer;\n}\n\n:deep(.form-control button > div) {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n:deep(.form-control button svg) {\n  color: white;\n  width: 0;\n}\n</style>\n"
    ],
    "names": [
        "d",
        "i",
        "n",
        "f",
        "m",
        "F",
        "l",
        "o",
        "e",
        "a",
        "r",
        "te",
        "s",
        "le",
        "U",
        "C",
        "b",
        "j",
        "G",
        "me",
        "L",
        "E",
        "P",
        "p",
        "v",
        "R",
        "y",
        "t",
        "c",
        "k",
        "u",
        "I",
        "H",
        "h",
        "W",
        "O",
        "N",
        "T",
        "x",
        "w",
        "_",
        "J",
        "A",
        "z",
        "V",
        "M",
        "ee",
        "pe",
        "xe",
        "$",
        "K",
        "B",
        "Z",
        "S",
        "D",
        "g",
        "Y",
        "Q",
        "Ie",
        "ye",
        "X",
        "q",
        "inject",
        "tabRef",
        "ref",
        "indicator",
        "tabsLength",
        "computed",
        "_a",
        "transitionClass",
        "moveIndicator",
        "index",
        "selectedTab",
        "watch",
        "nextTick",
        "onMounted",
        "_createBlock",
        "_unref",
        "TabList",
        "_openBlock",
        "_createElementBlock",
        "_Fragment",
        "tab",
        "Tab",
        "_withCtx",
        "selected",
        "_renderSlot",
        "_ctx",
        "_mergeProps",
        "_createElementVNode",
        "_resolveDynamicComponent",
        "_toDisplayString",
        "TabPanels",
        "TabPanel",
        "props",
        "__props",
        "tabIndex",
        "_useModel",
        "provide",
        "_cache",
        "idx",
        "_createVNode",
        "_normalizeProps",
        "_guardReactiveProps",
        "emit",
        "__emit",
        "createListResource",
        "selection",
        "options",
        "result",
        "onUpdateQuery",
        "query",
        "Autocomplete",
        "_hoisted_1",
        "_sfc_render",
        "editorRef",
        "showCannedResponseSelectorModal",
        "label",
        "sendMail",
        "doc",
        "newEmail",
        "useStorage",
        "updateOnboardingStep",
        "useOnboarding",
        "isManager",
        "useAuthStore",
        "attachments",
        "emailEmpty",
        "isContentEmpty",
        "toEmailsClone",
        "ccEmailsClone",
        "bccEmailsClone",
        "showCC",
        "showBCC",
        "cc",
        "bcc",
        "ccInput",
        "bccInput",
        "applyCannedResponse",
        "template",
        "createResource",
        "_b",
        "resetState",
        "submitMail",
        "toast",
        "toggleCC",
        "toggleBCC",
        "removeAttachment",
        "attachment",
        "addToReply",
        "body",
        "toEmails",
        "ccEmails",
        "bccEmails",
        "handleDiscard",
        "editor",
        "__expose",
        "TextEditor",
        "getFontFamily",
        "$event",
        "PreserveVideoControls",
        "MultiSelectInput",
        "validateEmail",
        "value",
        "_component_Button",
        "_normalizeClass",
        "_hoisted_2",
        "_renderList",
        "AttachmentItem",
        "_component_FeatherIcon",
        "_withModifiers",
        "_hoisted_3",
        "_hoisted_4",
        "_hoisted_5",
        "FileUploader",
        "openFileSelector",
        "AttachmentIcon",
        "EmailIcon",
        "TextEditorFixedMenu",
        "textEditorMenuButtons",
        "_hoisted_6",
        "CannedResponseSelectorModal",
        "useAgentStore",
        "defineStore",
        "agents",
        "dropdown",
        "searchAgents",
        "agentsList",
        "newComment",
        "commentEmpty",
        "loading",
        "agent",
        "submitComment",
        "values",
        "emails",
        "search",
        "error",
        "text",
        "showOptions",
        "selectedValue",
        "val",
        "addValue",
        "watchDebounced",
        "reload",
        "filterOptions",
        "data",
        "option",
        "email",
        "searchedContacts",
        "removeValue",
        "removeLastValue",
        "emailRef",
        "setFocus",
        "Combobox",
        "Popover",
        "togglePopover",
        "ComboboxInput",
        "isOpen",
        "ComboboxOptions",
        "ComboboxOption",
        "active",
        "UserAvatar",
        "_component_ErrorMessage",
        "content",
        "isMac",
        "useDevice",
        "isMobileView",
        "useScreenSize",
        "emailEditorRef",
        "commentTextEditorRef",
        "toggleEmailBox",
        "showCommentBox",
        "showEmailBox",
        "toggleCommentBox",
        "submitEmail",
        "replyToEmail",
        "_c",
        "CommentIcon",
        "EmailEditor",
        "CommentTextEditor",
        "showDialog",
        "subject",
        "splitTicket",
        "communication_id",
        "newTicket",
        "handleTicketSplit",
        "Dialog",
        "_component_FormControl",
        "TriangleAlert",
        "LucideSplit",
        "sender",
        "to",
        "creation",
        "name",
        "showSplitModal",
        "_component_Tooltip",
        "dateFormat",
        "dateTooltipFormat",
        "timeAgo",
        "_hoisted_7",
        "_hoisted_8",
        "_hoisted_9",
        "ReplyIcon",
        "ReplyAllIcon",
        "Dropdown",
        "_hoisted_10",
        "_hoisted_11",
        "_hoisted_14",
        "_hoisted_17",
        "_component_EmailContent",
        "_hoisted_19",
        "TicketSplitModal",
        "authStore",
        "getUser",
        "useUserStore",
        "commenter",
        "commentedBy",
        "isTicketMergedComment",
        "editable",
        "_content",
        "commentBoxRef",
        "handleEditMode",
        "deleteComment",
        "handleSaveComment",
        "updateComment",
        "Avatar",
        "event",
        "user",
        "relatedActivities",
        "show_others",
        "_isRef",
        "SelectIcon",
        "relatedActivity",
        "show",
        "addAssignee",
        "removeCurrentAssignee",
        "customFilters",
        "filters",
        "_component_Dialog",
        "SearchComplete",
        "_createTextVNode",
        "currentAssignee",
        "searchInput",
        "templates",
        "filteredTemplates",
        "_component_TextInput",
        "$router",
        "openEmailBox",
        "Tooltip",
        "communicationAreaRef",
        "defaultActions",
        "open",
        "emptyText",
        "emptyTextIcon",
        "icon",
        "ActivityIcon",
        "scrollToLatestActivity",
        "el",
        "useElementVisibility",
        "_component_ActivityHeader",
        "FadedScrollableDiv",
        "activity",
        "DotIcon",
        "EmailArea",
        "CommentBox",
        "HistoryBox",
        "firstResponseBadge",
        "firstResponse",
        "dayjs",
        "formatTime",
        "resolutionBadge",
        "resolution",
        "sections",
        "Badge",
        "textFields",
        "component",
        "apiOptions",
        "Link",
        "FormControl",
        "transValue",
        "emitUpdate",
        "fieldname",
        "field",
        "_toHandlers",
        "fields",
        "update",
        "UniInput2"
    ],
    "mappings": "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",
    "x_google_ignoreList": [
        0,
        1,
        2,
        3,
        4
    ]
}