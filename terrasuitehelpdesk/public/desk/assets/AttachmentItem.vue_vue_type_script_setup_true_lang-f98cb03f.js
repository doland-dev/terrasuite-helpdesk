import{d as w,A as d,e as n,k as u,l as x,g as h,w as c,f as C,v as F,C as V,h as o,aN as S,t as T,y as g,H as B}from"./index-54e545bb.js";import{m as D,e as I,f as L,F as N,g as $,h as A}from"./more-horizontal-b561c647.js";const z=["href"],E={key:0,class:"prose prose-sm max-w-none whitespace-pre-wrap"},H=["src"],W=w({__name:"AttachmentItem",props:{label:{},url:{default:null}},setup(v){const r=v,t=d(!1),a=D.getType(r.label)||"",i=a.startsWith("image/"),_=a==="application/pdf",b=a.includes("spreadsheet"),l=a==="text/plain",m=r.url&&(l||i),p=d("");function y(){return l?I:i?L:_?N:b?$:A}function k(){m&&(l&&fetch(r.url).then(e=>e.text().then(s=>p.value=s)),t.value=!t.value)}return(e,s)=>(n(),u("span",null,[x("a",{href:o(m)?null:e.url,target:"_blank"},[h(o(S),{label:e.label,theme:"gray",variant:"outline",onClick:s[0]||(s[0]=f=>k())},{prefix:c(()=>[(n(),C(F(y()),{class:"h-4 w-4"}))]),suffix:c(()=>[V(e.$slots,"suffix")]),_:3},8,["label"])],8,z),h(o(B),{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=f=>t.value=f),options:{title:e.label,size:"4xl"}},{"body-content":c(()=>[l?(n(),u("div",E,T(p.value),1)):g("",!0),o(i)?(n(),u("img",{key:1,src:e.url,class:"m-auto rounded border"},null,8,H)):g("",!0)]),_:1},8,["modelValue","options"])]))}});export{W as _};
//# sourceMappingURL=AttachmentItem.vue_vue_type_script_setup_true_lang-f98cb03f.js.map
